{"timestamp": "2026-01-10T04:26:24.444061Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T04:26:25.097014Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "27072660-cc67-49c0-b2ca-ce316771ae8b"}
{"timestamp": "2026-01-10T04:26:25.097014Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "27072660-cc67-49c0-b2ca-ce316771ae8b"}
{"timestamp": "2026-01-10T04:26:25.099014Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.107948Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "536c7278-a29d-4f82-b129-d691f1f382dd"}
{"timestamp": "2026-01-10T04:26:25.108946Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "536c7278-a29d-4f82-b129-d691f1f382dd"}
{"timestamp": "2026-01-10T04:26:25.109946Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.112945Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "993b3a17-e3c8-4619-9993-4e1ede8fa755"}
{"timestamp": "2026-01-10T04:26:25.112945Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "993b3a17-e3c8-4619-9993-4e1ede8fa755"}
{"timestamp": "2026-01-10T04:26:25.114949Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.117949Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ae1ca65f-2191-473e-bfe1-fbbd74062af9"}
{"timestamp": "2026-01-10T04:26:25.117949Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ae1ca65f-2191-473e-bfe1-fbbd74062af9"}
{"timestamp": "2026-01-10T04:26:25.119948Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.121945Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "382adda0-cd58-4171-b1ea-eebcccfa94e3"}
{"timestamp": "2026-01-10T04:26:25.122948Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "382adda0-cd58-4171-b1ea-eebcccfa94e3"}
{"timestamp": "2026-01-10T04:26:25.123946Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.126946Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "40632fa3-96d8-40f5-92cc-2938d97d10fb"}
{"timestamp": "2026-01-10T04:26:25.126946Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "40632fa3-96d8-40f5-92cc-2938d97d10fb"}
{"timestamp": "2026-01-10T04:26:25.127945Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.129949Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "62824165-6a77-4849-9b9c-2962139ed65d"}
{"timestamp": "2026-01-10T04:26:25.136947Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "62824165-6a77-4849-9b9c-2962139ed65d"}
{"timestamp": "2026-01-10T04:26:25.137945Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.139945Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3be8207a-04a1-4bc3-8df8-89dde97ac029"}
{"timestamp": "2026-01-10T04:26:25.317943Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T04:26:25.318944Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3be8207a-04a1-4bc3-8df8-89dde97ac029"}
{"timestamp": "2026-01-10T04:26:25.319946Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.321948Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "4241f81f-449f-45a5-99b8-35a074c8772e"}
{"timestamp": "2026-01-10T04:26:25.486945Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T04:26:25.486945Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "4241f81f-449f-45a5-99b8-35a074c8772e"}
{"timestamp": "2026-01-10T04:26:25.487945Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.489945Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e2cb8d84-833f-4794-a20c-2af9bd0a1f2b"}
{"timestamp": "2026-01-10T04:26:25.489945Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e2cb8d84-833f-4794-a20c-2af9bd0a1f2b"}
{"timestamp": "2026-01-10T04:26:25.490947Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.493943Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5e299650-1eb4-491d-8352-40dabb64b061"}
{"timestamp": "2026-01-10T04:26:25.664947Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T04:26:25.664947Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5e299650-1eb4-491d-8352-40dabb64b061"}
{"timestamp": "2026-01-10T04:26:25.665944Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.668943Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "19127fcb-707a-41bf-8473-04de987f16f9"}
{"timestamp": "2026-01-10T04:26:25.832941Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "19127fcb-707a-41bf-8473-04de987f16f9"}
{"timestamp": "2026-01-10T04:26:25.833944Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.835945Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "9929792c-81ed-4734-ae5a-37e124ae2c87"}
{"timestamp": "2026-01-10T04:26:25.836946Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "9929792c-81ed-4734-ae5a-37e124ae2c87"}
{"timestamp": "2026-01-10T04:26:25.837943Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:25.839941Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "344c12f9-8760-4dd7-91dd-f3443b6cf452"}
{"timestamp": "2026-01-10T04:26:26.003941Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T04:26:26.003941Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "344c12f9-8760-4dd7-91dd-f3443b6cf452"}
{"timestamp": "2026-01-10T04:26:26.004941Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:26.006941Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "cdaf98e4-fb6a-4f67-853b-94a66241b5f1"}
{"timestamp": "2026-01-10T04:26:26.006941Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "cdaf98e4-fb6a-4f67-853b-94a66241b5f1"}
{"timestamp": "2026-01-10T04:26:26.008940Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:26.010941Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d7c66e04-1740-410b-8443-1a693dfde2d1"}
{"timestamp": "2026-01-10T04:26:26.011942Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d7c66e04-1740-410b-8443-1a693dfde2d1"}
{"timestamp": "2026-01-10T04:26:26.012941Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:26.014941Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "35da9e9e-669b-414f-82b0-577a52a02c8f"}
{"timestamp": "2026-01-10T04:26:26.015941Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T04:26:26.015941Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "35da9e9e-669b-414f-82b0-577a52a02c8f"}
{"timestamp": "2026-01-10T04:26:26.016941Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:26.019943Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f6491794-baaf-4f0c-9e5e-9d1023289666"}
{"timestamp": "2026-01-10T04:26:26.183939Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T04:26:26.183939Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f6491794-baaf-4f0c-9e5e-9d1023289666"}
{"timestamp": "2026-01-10T04:26:26.184939Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:26.186939Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "14838b60-451a-4654-b101-6a658cf40b7d"}
{"timestamp": "2026-01-10T04:26:26.186939Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T04:26:26.187942Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "14838b60-451a-4654-b101-6a658cf40b7d"}
{"timestamp": "2026-01-10T04:26:26.188942Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:26.191940Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5133e188-3173-4e29-991b-9cc0237c05a2"}
{"timestamp": "2026-01-10T04:26:26.221943Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('090c40fe-eab9-4586-bdfe-b8767f7e8a9e', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('090c40fe-eab9-4586-bdfe-b8767f7e8a9e', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:26:26.248939Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('090c40fe-eab9-4586-bdfe-b8767f7e8a9e', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:26.248939Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5133e188-3173-4e29-991b-9cc0237c05a2"}
{"timestamp": "2026-01-10T04:26:26.250940Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:27.437152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "963bee60-6b9c-4049-9dab-7adf465d74b9"}
{"timestamp": "2026-01-10T04:26:27.453150Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c067760a-060a-430c-aafc-88bc4f8d6147', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c067760a-060a-430c-aafc-88bc4f8d6147', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:26:27.480151Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c067760a-060a-430c-aafc-88bc4f8d6147', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:27.481149Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "963bee60-6b9c-4049-9dab-7adf465d74b9"}
{"timestamp": "2026-01-10T04:26:27.482150Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:27.499151Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e280a9e0-6693-4a1e-ad0b-b948c3c20455"}
{"timestamp": "2026-01-10T04:26:27.514150Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('288010dc-a035-4681-8b1b-fd4882613366', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('288010dc-a035-4681-8b1b-fd4882613366', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:26:27.541151Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('288010dc-a035-4681-8b1b-fd4882613366', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:27.541151Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e280a9e0-6693-4a1e-ad0b-b948c3c20455"}
{"timestamp": "2026-01-10T04:26:27.542149Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:27.559152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "1cf14baa-6f17-49e6-b797-bef3f3554116"}
{"timestamp": "2026-01-10T04:26:27.560153Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:27.560153Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "1cf14baa-6f17-49e6-b797-bef3f3554116"}
{"timestamp": "2026-01-10T04:26:27.562149Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:27.564149Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "33065012-9e72-4e76-b0d5-a4fcd91297f8"}
{"timestamp": "2026-01-10T04:26:27.579149Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f0cad546-476c-46a7-a5e6-9064fb82b655', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f0cad546-476c-46a7-a5e6-9064fb82b655', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:26:27.605149Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f0cad546-476c-46a7-a5e6-9064fb82b655', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:27.606151Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "33065012-9e72-4e76-b0d5-a4fcd91297f8"}
{"timestamp": "2026-01-10T04:26:27.607151Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:27.609151Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "82d28f4c-30fb-479b-92c5-6045939cc06f"}
{"timestamp": "2026-01-10T04:26:27.614150Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T04:26:27.615151Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:27.615151Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "82d28f4c-30fb-479b-92c5-6045939cc06f"}
{"timestamp": "2026-01-10T04:26:27.617151Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:27.635148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "74a9a466-1c72-4426-b004-4113719a19f0"}
{"timestamp": "2026-01-10T04:26:27.637148Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T04:26:27.638148Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:27.638148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "74a9a466-1c72-4426-b004-4113719a19f0"}
{"timestamp": "2026-01-10T04:26:27.640151Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:27.656150Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "a831605d-7a8f-4f61-adb9-659fb900e054"}
{"timestamp": "2026-01-10T04:26:27.660148Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T04:26:27.661148Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:27.662152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "a831605d-7a8f-4f61-adb9-659fb900e054"}
{"timestamp": "2026-01-10T04:26:27.663148Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:27.680148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "78a112c1-b441-4559-9783-bb35fe2e40f4"}
{"timestamp": "2026-01-10T04:26:27.682148Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T04:26:27.683148Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:27.684148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "78a112c1-b441-4559-9783-bb35fe2e40f4"}
{"timestamp": "2026-01-10T04:26:27.685148Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:27.701797Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "cc6f82e7-520b-48f7-bf5d-927dc9e73b7f"}
{"timestamp": "2026-01-10T04:26:27.717573Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1fa7861b-e697-40ad-bb3c-2909f5e876aa', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1fa7861b-e697-40ad-bb3c-2909f5e876aa', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:26:27.744570Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1fa7861b-e697-40ad-bb3c-2909f5e876aa', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:27.745571Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "cc6f82e7-520b-48f7-bf5d-927dc9e73b7f"}
{"timestamp": "2026-01-10T04:26:27.746573Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:27.763575Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "2cd62751-0def-4bc0-8990-c295f898a36a"}
{"timestamp": "2026-01-10T04:26:27.779573Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('005b6036-d6b6-4781-82a9-5a7093ed026a', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('005b6036-d6b6-4781-82a9-5a7093ed026a', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:26:27.806573Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('005b6036-d6b6-4781-82a9-5a7093ed026a', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:27.807574Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "2cd62751-0def-4bc0-8990-c295f898a36a"}
{"timestamp": "2026-01-10T04:26:27.808573Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:26:27.824574Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "77af6572-0f1a-4b7d-9337-a7fde55cc858"}
{"timestamp": "2026-01-10T04:26:27.840572Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('afeb5b99-c240-45d7-b9bb-66ac18ed056c', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('afeb5b99-c240-45d7-b9bb-66ac18ed056c', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:26:27.867571Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('afeb5b99-c240-45d7-b9bb-66ac18ed056c', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:26:27.868573Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "77af6572-0f1a-4b7d-9337-a7fde55cc858"}
{"timestamp": "2026-01-10T04:26:27.869572Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:28.319091Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T04:27:28.878152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "bf6ada34-969b-49ee-b752-73e416c3ec39"}
{"timestamp": "2026-01-10T04:27:28.879151Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "bf6ada34-969b-49ee-b752-73e416c3ec39"}
{"timestamp": "2026-01-10T04:27:28.881152Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:28.884154Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "1d519777-f4b8-46f5-8834-d9ef2c3541c4"}
{"timestamp": "2026-01-10T04:27:28.885152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "1d519777-f4b8-46f5-8834-d9ef2c3541c4"}
{"timestamp": "2026-01-10T04:27:28.886151Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:28.889153Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5d9bced0-15d5-49b3-ae35-29ff930d93c3"}
{"timestamp": "2026-01-10T04:27:28.889153Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5d9bced0-15d5-49b3-ae35-29ff930d93c3"}
{"timestamp": "2026-01-10T04:27:28.890152Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:28.893152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "096e1247-6703-463a-a875-91d2b890f327"}
{"timestamp": "2026-01-10T04:27:28.893152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "096e1247-6703-463a-a875-91d2b890f327"}
{"timestamp": "2026-01-10T04:27:28.895152Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:28.897152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "1df9a244-31ec-4d80-93a9-f052fa0cdb58"}
{"timestamp": "2026-01-10T04:27:28.897152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "1df9a244-31ec-4d80-93a9-f052fa0cdb58"}
{"timestamp": "2026-01-10T04:27:28.899157Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:28.901151Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5b827b97-7c83-4746-ad5a-efab47bdf3a1"}
{"timestamp": "2026-01-10T04:27:28.902152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5b827b97-7c83-4746-ad5a-efab47bdf3a1"}
{"timestamp": "2026-01-10T04:27:28.904152Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:28.905152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "731ec999-c220-4e08-867f-7790a9a7fadd"}
{"timestamp": "2026-01-10T04:27:28.912154Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "731ec999-c220-4e08-867f-7790a9a7fadd"}
{"timestamp": "2026-01-10T04:27:28.913151Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:28.915154Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "81e1aa89-dfc3-4917-a364-4196670329e2"}
{"timestamp": "2026-01-10T04:27:29.093152Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T04:27:29.093152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "81e1aa89-dfc3-4917-a364-4196670329e2"}
{"timestamp": "2026-01-10T04:27:29.094152Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.097152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "61b48675-34dc-45e7-b2a0-1964362b871b"}
{"timestamp": "2026-01-10T04:27:29.260150Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T04:27:29.261150Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "61b48675-34dc-45e7-b2a0-1964362b871b"}
{"timestamp": "2026-01-10T04:27:29.262150Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.264154Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e8f1fafd-e21a-406c-bb2d-6ba0df923c11"}
{"timestamp": "2026-01-10T04:27:29.264154Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e8f1fafd-e21a-406c-bb2d-6ba0df923c11"}
{"timestamp": "2026-01-10T04:27:29.265150Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.268152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "457c687d-1de1-4568-bc41-383f9dd08b51"}
{"timestamp": "2026-01-10T04:27:29.439149Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T04:27:29.439149Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "457c687d-1de1-4568-bc41-383f9dd08b51"}
{"timestamp": "2026-01-10T04:27:29.441152Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.443149Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "50c1028c-5e6c-4c8c-a896-40a295751805"}
{"timestamp": "2026-01-10T04:27:29.606148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "50c1028c-5e6c-4c8c-a896-40a295751805"}
{"timestamp": "2026-01-10T04:27:29.607149Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.609149Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "239fa32b-4b88-4a1d-a4cb-d14332ac479b"}
{"timestamp": "2026-01-10T04:27:29.610151Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "239fa32b-4b88-4a1d-a4cb-d14332ac479b"}
{"timestamp": "2026-01-10T04:27:29.611153Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.614151Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ca9db64a-47de-4823-83fb-acc22aa37442"}
{"timestamp": "2026-01-10T04:27:29.776148Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T04:27:29.777148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ca9db64a-47de-4823-83fb-acc22aa37442"}
{"timestamp": "2026-01-10T04:27:29.778149Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.779148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "43ab234d-9599-4633-b456-52fa4706a730"}
{"timestamp": "2026-01-10T04:27:29.780147Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "43ab234d-9599-4633-b456-52fa4706a730"}
{"timestamp": "2026-01-10T04:27:29.781148Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.784148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d5f5d30e-d157-4ad2-ba2b-819b1f9c6e83"}
{"timestamp": "2026-01-10T04:27:29.784148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d5f5d30e-d157-4ad2-ba2b-819b1f9c6e83"}
{"timestamp": "2026-01-10T04:27:29.785148Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.788148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e98887aa-c131-4d36-9b86-424daca93689"}
{"timestamp": "2026-01-10T04:27:29.788148Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T04:27:29.789151Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e98887aa-c131-4d36-9b86-424daca93689"}
{"timestamp": "2026-01-10T04:27:29.790147Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.792152Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3381e647-3de5-403d-b7ff-3cff998ef643"}
{"timestamp": "2026-01-10T04:27:29.955150Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T04:27:29.955150Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3381e647-3de5-403d-b7ff-3cff998ef643"}
{"timestamp": "2026-01-10T04:27:29.956147Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.958148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8f380d11-03e7-4c8c-b912-dad945d0254e"}
{"timestamp": "2026-01-10T04:27:29.958148Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T04:27:29.959150Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8f380d11-03e7-4c8c-b912-dad945d0254e"}
{"timestamp": "2026-01-10T04:27:29.960147Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:29.962148Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "007fe5cc-0558-4aba-97f4-8e05814a077f"}
{"timestamp": "2026-01-10T04:27:29.992151Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e7513157-027e-4881-8061-d8d9d3ce643e', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e7513157-027e-4881-8061-d8d9d3ce643e', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:27:30.022147Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e7513157-027e-4881-8061-d8d9d3ce643e', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:30.022147Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "007fe5cc-0558-4aba-97f4-8e05814a077f"}
{"timestamp": "2026-01-10T04:27:30.023147Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:31.185267Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "24776f57-3a81-4df3-a8d4-d8e8ecbf3394"}
{"timestamp": "2026-01-10T04:27:31.201269Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e6aa0abe-84cf-4a6e-bb3f-c172cc3ee0c5', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e6aa0abe-84cf-4a6e-bb3f-c172cc3ee0c5', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:27:31.228267Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e6aa0abe-84cf-4a6e-bb3f-c172cc3ee0c5', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:31.228267Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "24776f57-3a81-4df3-a8d4-d8e8ecbf3394"}
{"timestamp": "2026-01-10T04:27:31.230266Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:31.246210Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "eb883dc9-7aed-4704-95b5-ebac665832cb"}
{"timestamp": "2026-01-10T04:27:31.262206Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('d55a5cd3-995f-4250-bc09-1eaac0c3ecbe', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('d55a5cd3-995f-4250-bc09-1eaac0c3ecbe', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:27:31.288206Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('d55a5cd3-995f-4250-bc09-1eaac0c3ecbe', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:31.289207Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "eb883dc9-7aed-4704-95b5-ebac665832cb"}
{"timestamp": "2026-01-10T04:27:31.290206Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:31.307206Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "1801fdd2-6778-4c1a-b939-be44e6cbbf75"}
{"timestamp": "2026-01-10T04:27:31.308209Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:31.308209Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "1801fdd2-6778-4c1a-b939-be44e6cbbf75"}
{"timestamp": "2026-01-10T04:27:31.309206Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:31.312210Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "851f2544-c721-442a-b98f-83541293e2cf"}
{"timestamp": "2026-01-10T04:27:31.328207Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('6f41d111-e946-4d89-8b33-5a3961724172', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('6f41d111-e946-4d89-8b33-5a3961724172', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:27:31.354207Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('6f41d111-e946-4d89-8b33-5a3961724172', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:31.355206Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "851f2544-c721-442a-b98f-83541293e2cf"}
{"timestamp": "2026-01-10T04:27:31.356205Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:31.358206Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f3c105a9-d9a0-4e16-87ba-feeb5752ea88"}
{"timestamp": "2026-01-10T04:27:31.362205Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T04:27:31.363678Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:31.363678Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f3c105a9-d9a0-4e16-87ba-feeb5752ea88"}
{"timestamp": "2026-01-10T04:27:31.365683Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:31.383686Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "bc459c29-f327-4060-af8e-905178415740"}
{"timestamp": "2026-01-10T04:27:31.385686Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T04:27:31.386685Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:31.386685Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "bc459c29-f327-4060-af8e-905178415740"}
{"timestamp": "2026-01-10T04:27:31.388682Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:31.404685Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "fe58a900-e368-40a0-8245-7e3be72f1520"}
{"timestamp": "2026-01-10T04:27:31.408684Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T04:27:31.408684Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:31.409684Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "fe58a900-e368-40a0-8245-7e3be72f1520"}
{"timestamp": "2026-01-10T04:27:31.410684Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:31.427683Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "9d8744ad-94d0-4eb8-b8b2-bbf8f451aabd"}
{"timestamp": "2026-01-10T04:27:31.429682Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T04:27:31.431682Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:31.431682Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "9d8744ad-94d0-4eb8-b8b2-bbf8f451aabd"}
{"timestamp": "2026-01-10T04:27:31.433682Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:31.449684Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "50762f13-6934-437a-b270-de3b163c8d12"}
{"timestamp": "2026-01-10T04:27:31.465682Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1c9db6ea-5cff-4d12-b19d-86a6852de2f9', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1c9db6ea-5cff-4d12-b19d-86a6852de2f9', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:27:31.492682Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1c9db6ea-5cff-4d12-b19d-86a6852de2f9', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:31.493684Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "50762f13-6934-437a-b270-de3b163c8d12"}
{"timestamp": "2026-01-10T04:27:31.494683Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:31.511681Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e80c3c11-c4d1-40ff-aa18-7fb55dc72a98"}
{"timestamp": "2026-01-10T04:27:31.527682Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('439bf0c3-2fd4-4aa5-90f5-2e3ba8f1bc04', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('439bf0c3-2fd4-4aa5-90f5-2e3ba8f1bc04', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:27:31.554685Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('439bf0c3-2fd4-4aa5-90f5-2e3ba8f1bc04', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:31.555683Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e80c3c11-c4d1-40ff-aa18-7fb55dc72a98"}
{"timestamp": "2026-01-10T04:27:31.556685Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:27:31.572681Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8bf674a7-4338-404d-8f31-b38c83025432"}
{"timestamp": "2026-01-10T04:27:31.588685Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('8c1105a6-3dc4-49a0-9854-2353e5c531ca', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('8c1105a6-3dc4-49a0-9854-2353e5c531ca', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:27:31.614681Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('8c1105a6-3dc4-49a0-9854-2353e5c531ca', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:27:31.615681Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8bf674a7-4338-404d-8f31-b38c83025432"}
{"timestamp": "2026-01-10T04:27:31.616687Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:45.557775Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T04:28:46.147795Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3994dcac-f977-4ddb-ba7f-b4860de7e5f8"}
{"timestamp": "2026-01-10T04:28:46.148793Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3994dcac-f977-4ddb-ba7f-b4860de7e5f8"}
{"timestamp": "2026-01-10T04:28:46.198900Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.201899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3525cc3f-ea01-4af2-b2db-f26158620e70"}
{"timestamp": "2026-01-10T04:28:46.201899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3525cc3f-ea01-4af2-b2db-f26158620e70"}
{"timestamp": "2026-01-10T04:28:46.203899Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.205902Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ad2de8a3-d747-4c3a-84ba-df0c1cca0771"}
{"timestamp": "2026-01-10T04:28:46.206900Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ad2de8a3-d747-4c3a-84ba-df0c1cca0771"}
{"timestamp": "2026-01-10T04:28:46.207900Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.210900Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8f2957a8-5ed2-408d-956f-cbe22ea72138"}
{"timestamp": "2026-01-10T04:28:46.210900Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8f2957a8-5ed2-408d-956f-cbe22ea72138"}
{"timestamp": "2026-01-10T04:28:46.212900Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.214902Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8d1ce2a9-ae84-4262-9322-86c1ae8f7b73"}
{"timestamp": "2026-01-10T04:28:46.215900Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8d1ce2a9-ae84-4262-9322-86c1ae8f7b73"}
{"timestamp": "2026-01-10T04:28:46.216900Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.218903Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "a31f2a7f-a17c-4eba-9ec6-83eae1a6c3e7"}
{"timestamp": "2026-01-10T04:28:46.219900Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "a31f2a7f-a17c-4eba-9ec6-83eae1a6c3e7"}
{"timestamp": "2026-01-10T04:28:46.220903Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.222901Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "33d9b553-0bb6-4caf-a1c6-69390e1b9e42"}
{"timestamp": "2026-01-10T04:28:46.229902Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "33d9b553-0bb6-4caf-a1c6-69390e1b9e42"}
{"timestamp": "2026-01-10T04:28:46.230899Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.232900Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "aa573597-d09d-47fb-885e-082cce9afc25"}
{"timestamp": "2026-01-10T04:28:46.410299Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T04:28:46.410299Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "aa573597-d09d-47fb-885e-082cce9afc25"}
{"timestamp": "2026-01-10T04:28:46.411299Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.414299Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "280c3b06-be60-4819-8e38-9b1d98261d22"}
{"timestamp": "2026-01-10T04:28:46.578298Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T04:28:46.579302Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "280c3b06-be60-4819-8e38-9b1d98261d22"}
{"timestamp": "2026-01-10T04:28:46.580299Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.582299Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "0690de91-ec31-4b85-aa90-eb4421e39c4f"}
{"timestamp": "2026-01-10T04:28:46.583300Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "0690de91-ec31-4b85-aa90-eb4421e39c4f"}
{"timestamp": "2026-01-10T04:28:46.584302Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.587299Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5db5ae02-bef7-417e-a548-daacc488480f"}
{"timestamp": "2026-01-10T04:28:46.758062Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T04:28:46.759060Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5db5ae02-bef7-417e-a548-daacc488480f"}
{"timestamp": "2026-01-10T04:28:46.760062Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.789063Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "10c31608-ef8d-409e-90cd-09d4b6b27ef7"}
{"timestamp": "2026-01-10T04:28:46.952058Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "10c31608-ef8d-409e-90cd-09d4b6b27ef7"}
{"timestamp": "2026-01-10T04:28:46.954059Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.956059Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "1320eb91-ce2c-4c0e-9de1-d950d3685e1a"}
{"timestamp": "2026-01-10T04:28:46.957061Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "1320eb91-ce2c-4c0e-9de1-d950d3685e1a"}
{"timestamp": "2026-01-10T04:28:46.959059Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:46.962058Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "451917ce-ac65-44a2-ae76-ee09555cbc38"}
{"timestamp": "2026-01-10T04:28:47.125057Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T04:28:47.126061Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "451917ce-ac65-44a2-ae76-ee09555cbc38"}
{"timestamp": "2026-01-10T04:28:47.127059Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:47.129059Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "81271057-c70f-45fd-a7e4-df988bf4c268"}
{"timestamp": "2026-01-10T04:28:47.130061Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "81271057-c70f-45fd-a7e4-df988bf4c268"}
{"timestamp": "2026-01-10T04:28:47.131058Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:47.133059Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "2e74d62f-49a0-4c1d-9da8-3157498da902"}
{"timestamp": "2026-01-10T04:28:47.134060Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "2e74d62f-49a0-4c1d-9da8-3157498da902"}
{"timestamp": "2026-01-10T04:28:47.135060Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:47.138058Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "851308aa-f770-4726-b806-57c9e46feda4"}
{"timestamp": "2026-01-10T04:28:47.138058Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T04:28:47.139058Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "851308aa-f770-4726-b806-57c9e46feda4"}
{"timestamp": "2026-01-10T04:28:47.140058Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:47.142059Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b5b30c44-bbba-4b67-a403-94d060bd25f4"}
{"timestamp": "2026-01-10T04:28:47.306329Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T04:28:47.306329Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b5b30c44-bbba-4b67-a403-94d060bd25f4"}
{"timestamp": "2026-01-10T04:28:47.308328Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:47.310328Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "6d39d632-3b4e-49d5-86b7-97e9d0605bfb"}
{"timestamp": "2026-01-10T04:28:47.311328Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T04:28:47.311328Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "6d39d632-3b4e-49d5-86b7-97e9d0605bfb"}
{"timestamp": "2026-01-10T04:28:47.312328Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:47.315328Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "62cbdcbb-7428-44b2-a094-c298694a4fa5"}
{"timestamp": "2026-01-10T04:28:47.346328Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('b38105d6-90d9-470f-b26a-4360cb2ba4c2', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('b38105d6-90d9-470f-b26a-4360cb2ba4c2', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:28:47.375337Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('b38105d6-90d9-470f-b26a-4360cb2ba4c2', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:47.376631Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "62cbdcbb-7428-44b2-a094-c298694a4fa5"}
{"timestamp": "2026-01-10T04:28:47.377635Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:48.545969Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f984a656-404f-4b05-85f8-57adacce165a"}
{"timestamp": "2026-01-10T04:28:48.561968Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f4f0dada-8bf3-4d34-a159-8180dce24ef6', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f4f0dada-8bf3-4d34-a159-8180dce24ef6', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:28:48.587968Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f4f0dada-8bf3-4d34-a159-8180dce24ef6', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:48.588969Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f984a656-404f-4b05-85f8-57adacce165a"}
{"timestamp": "2026-01-10T04:28:48.589970Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:48.606969Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3aafe790-2a00-498b-964c-48ceff9b4084"}
{"timestamp": "2026-01-10T04:28:48.621969Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1fdcb225-fcbd-420a-9ea2-44e5440c8cad', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1fdcb225-fcbd-420a-9ea2-44e5440c8cad', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:28:48.647968Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1fdcb225-fcbd-420a-9ea2-44e5440c8cad', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:48.648969Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3aafe790-2a00-498b-964c-48ceff9b4084"}
{"timestamp": "2026-01-10T04:28:48.649969Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:48.666969Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c144e12f-3241-4bcf-904c-9c3a4f20704b"}
{"timestamp": "2026-01-10T04:28:48.667968Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:48.668970Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c144e12f-3241-4bcf-904c-9c3a4f20704b"}
{"timestamp": "2026-01-10T04:28:48.669969Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:48.671968Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b90e1e07-97d1-4088-9d6e-260172b1d3cb"}
{"timestamp": "2026-01-10T04:28:48.687968Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('7055444d-5b07-435a-84a6-8ff519c17fa7', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('7055444d-5b07-435a-84a6-8ff519c17fa7', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:28:48.714970Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('7055444d-5b07-435a-84a6-8ff519c17fa7', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:48.714970Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b90e1e07-97d1-4088-9d6e-260172b1d3cb"}
{"timestamp": "2026-01-10T04:28:48.715969Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:48.718972Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "815f4f70-14e8-4eb1-ace6-7d800dd8e321"}
{"timestamp": "2026-01-10T04:28:48.722968Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T04:28:48.723968Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:48.723968Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "815f4f70-14e8-4eb1-ace6-7d800dd8e321"}
{"timestamp": "2026-01-10T04:28:48.725969Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:48.744968Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e884ad61-ad12-4904-9c50-0395848942ec"}
{"timestamp": "2026-01-10T04:28:48.746969Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T04:28:48.747969Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:48.747969Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e884ad61-ad12-4904-9c50-0395848942ec"}
{"timestamp": "2026-01-10T04:28:48.749971Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:48.767740Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "6e279e0b-a8ac-4b25-a0e3-0ce88482ea1a"}
{"timestamp": "2026-01-10T04:28:48.770127Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T04:28:48.771130Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:48.772167Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "6e279e0b-a8ac-4b25-a0e3-0ce88482ea1a"}
{"timestamp": "2026-01-10T04:28:48.773172Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:48.790325Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "31642228-fbec-4488-a8bd-465168c4e7da"}
{"timestamp": "2026-01-10T04:28:48.792629Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T04:28:48.793629Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:48.793629Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "31642228-fbec-4488-a8bd-465168c4e7da"}
{"timestamp": "2026-01-10T04:28:48.794630Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:48.812629Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "37115dbb-ac37-40bf-93ff-4ca87c3e8f2e"}
{"timestamp": "2026-01-10T04:28:48.828628Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('fdf5d89e-c86d-412f-8af5-5345bb94a6ae', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('fdf5d89e-c86d-412f-8af5-5345bb94a6ae', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:28:48.855630Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('fdf5d89e-c86d-412f-8af5-5345bb94a6ae', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:48.856629Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "37115dbb-ac37-40bf-93ff-4ca87c3e8f2e"}
{"timestamp": "2026-01-10T04:28:48.857628Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:48.874629Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b7fbe34e-e2e5-4168-a364-d21405dfec71"}
{"timestamp": "2026-01-10T04:28:48.889938Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c2a77b8c-8401-4454-b810-73ec3a5aa55b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c2a77b8c-8401-4454-b810-73ec3a5aa55b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:28:48.917738Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c2a77b8c-8401-4454-b810-73ec3a5aa55b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:48.917738Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b7fbe34e-e2e5-4168-a364-d21405dfec71"}
{"timestamp": "2026-01-10T04:28:48.919743Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T04:28:48.936742Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "70209905-3f68-41f2-b895-ae4d881bcca1"}
{"timestamp": "2026-01-10T04:28:48.953742Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f38d58b8-fff7-43ec-ab1b-19285004fbe9', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f38d58b8-fff7-43ec-ab1b-19285004fbe9', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T04:28:48.990742Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f38d58b8-fff7-43ec-ab1b-19285004fbe9', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T04:28:48.990742Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "70209905-3f68-41f2-b895-ae4d881bcca1"}
{"timestamp": "2026-01-10T04:28:48.992742Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:41.637497Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T05:10:42.251511Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f0d04fb0-5113-4ee0-bbd3-3b015ade7210"}
{"timestamp": "2026-01-10T05:10:42.252511Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f0d04fb0-5113-4ee0-bbd3-3b015ade7210"}
{"timestamp": "2026-01-10T05:10:42.254511Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.256511Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "bd69161c-4095-431c-97d8-828e2f048f45"}
{"timestamp": "2026-01-10T05:10:42.257509Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "bd69161c-4095-431c-97d8-828e2f048f45"}
{"timestamp": "2026-01-10T05:10:42.258510Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.261511Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c9388ba6-8831-4241-8409-e49fd28e297c"}
{"timestamp": "2026-01-10T05:10:42.262511Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c9388ba6-8831-4241-8409-e49fd28e297c"}
{"timestamp": "2026-01-10T05:10:42.263511Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.265510Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "bcfb958f-971f-4f63-a9ac-1f4f03f9e671"}
{"timestamp": "2026-01-10T05:10:42.266511Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "bcfb958f-971f-4f63-a9ac-1f4f03f9e671"}
{"timestamp": "2026-01-10T05:10:42.268510Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.270510Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "99987707-e8ae-4a53-bfab-05292dc86735"}
{"timestamp": "2026-01-10T05:10:42.271509Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "99987707-e8ae-4a53-bfab-05292dc86735"}
{"timestamp": "2026-01-10T05:10:42.272510Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.275510Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b27f82bb-1461-4ccb-b828-df507ebecbad"}
{"timestamp": "2026-01-10T05:10:42.275510Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b27f82bb-1461-4ccb-b828-df507ebecbad"}
{"timestamp": "2026-01-10T05:10:42.277510Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.278511Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d94f967d-edee-4765-b04d-6f7e62ef84a6"}
{"timestamp": "2026-01-10T05:10:42.285511Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d94f967d-edee-4765-b04d-6f7e62ef84a6"}
{"timestamp": "2026-01-10T05:10:42.286511Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.289510Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "603e4308-edef-4f10-bafe-97030e489fcb"}
{"timestamp": "2026-01-10T05:10:42.468509Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:10:42.469513Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "603e4308-edef-4f10-bafe-97030e489fcb"}
{"timestamp": "2026-01-10T05:10:42.470512Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.473509Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "48fcc875-bbd9-4d66-adb2-37a9f7a1f01e"}
{"timestamp": "2026-01-10T05:10:42.637510Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:10:42.638513Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "48fcc875-bbd9-4d66-adb2-37a9f7a1f01e"}
{"timestamp": "2026-01-10T05:10:42.639510Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.641510Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e0af0e3b-ad2a-4222-b1bc-9e384291c9c0"}
{"timestamp": "2026-01-10T05:10:42.642509Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e0af0e3b-ad2a-4222-b1bc-9e384291c9c0"}
{"timestamp": "2026-01-10T05:10:42.643509Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.646509Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f1b996b6-0ee5-4f5f-b2a2-2578ad6194d5"}
{"timestamp": "2026-01-10T05:10:42.817508Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:10:42.818510Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f1b996b6-0ee5-4f5f-b2a2-2578ad6194d5"}
{"timestamp": "2026-01-10T05:10:42.819509Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.822509Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "78b27029-f660-4e0c-85c4-245b3bd1b0b1"}
{"timestamp": "2026-01-10T05:10:42.986508Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "78b27029-f660-4e0c-85c4-245b3bd1b0b1"}
{"timestamp": "2026-01-10T05:10:42.987509Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.990511Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d498c9b5-bbc4-4c4d-aeb8-940357c6c6fd"}
{"timestamp": "2026-01-10T05:10:42.991508Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d498c9b5-bbc4-4c4d-aeb8-940357c6c6fd"}
{"timestamp": "2026-01-10T05:10:42.992509Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:42.995509Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5433ec68-1026-432e-b0a3-fcafeb78022c"}
{"timestamp": "2026-01-10T05:10:43.159031Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:10:43.159031Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5433ec68-1026-432e-b0a3-fcafeb78022c"}
{"timestamp": "2026-01-10T05:10:43.160028Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:43.162031Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "cdf377c2-5128-4178-8239-98dd9918086e"}
{"timestamp": "2026-01-10T05:10:43.163032Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "cdf377c2-5128-4178-8239-98dd9918086e"}
{"timestamp": "2026-01-10T05:10:43.164029Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:43.167031Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "7b0226e4-d338-431b-8e98-7ea127166ae5"}
{"timestamp": "2026-01-10T05:10:43.167031Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "7b0226e4-d338-431b-8e98-7ea127166ae5"}
{"timestamp": "2026-01-10T05:10:43.169029Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:43.171031Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "17d8515f-602a-43e9-b6f0-f33fb3df7321"}
{"timestamp": "2026-01-10T05:10:43.172028Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T05:10:43.172028Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "17d8515f-602a-43e9-b6f0-f33fb3df7321"}
{"timestamp": "2026-01-10T05:10:43.173029Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:43.176029Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "64a2382d-3354-4f4e-8fe2-f7fa661bff9a"}
{"timestamp": "2026-01-10T05:10:43.339260Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:10:43.340262Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "64a2382d-3354-4f4e-8fe2-f7fa661bff9a"}
{"timestamp": "2026-01-10T05:10:43.341260Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:43.343262Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3969ceb1-dfd9-43e8-8b34-b00de8b5ebe4"}
{"timestamp": "2026-01-10T05:10:43.343262Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T05:10:43.344260Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3969ceb1-dfd9-43e8-8b34-b00de8b5ebe4"}
{"timestamp": "2026-01-10T05:10:43.345260Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:43.349260Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b05907c1-092c-44e9-98aa-43f87a5e4a80"}
{"timestamp": "2026-01-10T05:10:43.380262Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('874a811c-213f-40b9-a33a-eb778cb39b74', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('874a811c-213f-40b9-a33a-eb778cb39b74', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:10:43.413263Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('874a811c-213f-40b9-a33a-eb778cb39b74', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:43.414261Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b05907c1-092c-44e9-98aa-43f87a5e4a80"}
{"timestamp": "2026-01-10T05:10:43.416260Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:44.597115Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "56e215d5-fe7e-4515-872e-0ae55f3a3a9e"}
{"timestamp": "2026-01-10T05:10:44.613114Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('082d8d6a-c985-4f68-9756-db42bda01e0b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('082d8d6a-c985-4f68-9756-db42bda01e0b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:10:44.640113Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('082d8d6a-c985-4f68-9756-db42bda01e0b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:44.640113Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "56e215d5-fe7e-4515-872e-0ae55f3a3a9e"}
{"timestamp": "2026-01-10T05:10:44.641116Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:44.659119Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "9c380e59-48c2-451e-acfb-4a8b02c98cab"}
{"timestamp": "2026-01-10T05:10:44.675381Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('3c77e929-5871-4a0b-84c4-616e08bb7666', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('3c77e929-5871-4a0b-84c4-616e08bb7666', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:10:44.702381Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('3c77e929-5871-4a0b-84c4-616e08bb7666', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:44.703383Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "9c380e59-48c2-451e-acfb-4a8b02c98cab"}
{"timestamp": "2026-01-10T05:10:44.704382Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:44.721382Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "4a091d0b-ebf4-4829-b13f-2fbe7d7bbadc"}
{"timestamp": "2026-01-10T05:10:44.722383Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:44.722383Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "4a091d0b-ebf4-4829-b13f-2fbe7d7bbadc"}
{"timestamp": "2026-01-10T05:10:44.724384Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:44.726382Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ca2abacd-d026-427e-8a67-ad3f1a8e819e"}
{"timestamp": "2026-01-10T05:10:44.742383Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4de2b01c-40bc-4a8b-b6d5-c367a2aa0a33', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4de2b01c-40bc-4a8b-b6d5-c367a2aa0a33', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:10:44.768382Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4de2b01c-40bc-4a8b-b6d5-c367a2aa0a33', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:44.769384Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ca2abacd-d026-427e-8a67-ad3f1a8e819e"}
{"timestamp": "2026-01-10T05:10:44.770469Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:44.773473Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "65dfed87-c73b-48e0-a87d-87a30407c1c1"}
{"timestamp": "2026-01-10T05:10:44.777473Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:10:44.778475Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:44.779473Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "65dfed87-c73b-48e0-a87d-87a30407c1c1"}
{"timestamp": "2026-01-10T05:10:44.780473Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:44.798474Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f41a1094-061a-495d-ac3a-3bec0aa8b3e4"}
{"timestamp": "2026-01-10T05:10:44.800477Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:10:44.801478Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:44.802477Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f41a1094-061a-495d-ac3a-3bec0aa8b3e4"}
{"timestamp": "2026-01-10T05:10:44.803477Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:44.821472Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "76f65f8a-d53a-473e-a984-b91e4b951427"}
{"timestamp": "2026-01-10T05:10:44.824475Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:10:44.825475Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:44.825475Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "76f65f8a-d53a-473e-a984-b91e4b951427"}
{"timestamp": "2026-01-10T05:10:44.827473Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:44.843477Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "4e513b14-f2e9-400b-83b9-700740107315"}
{"timestamp": "2026-01-10T05:10:44.846476Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T05:10:44.846476Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:44.847475Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "4e513b14-f2e9-400b-83b9-700740107315"}
{"timestamp": "2026-01-10T05:10:44.849473Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:44.866477Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ccbf706a-707a-4164-83e2-6cbc895e2bc5"}
{"timestamp": "2026-01-10T05:10:44.882473Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('92092bc7-7fe9-463f-ba84-2c3cd91b49d9', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('92092bc7-7fe9-463f-ba84-2c3cd91b49d9', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:10:44.909984Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('92092bc7-7fe9-463f-ba84-2c3cd91b49d9', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:44.909984Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ccbf706a-707a-4164-83e2-6cbc895e2bc5"}
{"timestamp": "2026-01-10T05:10:44.910983Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:44.928982Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "81fbecc8-30c8-4200-99a5-5774f451f12a"}
{"timestamp": "2026-01-10T05:10:44.943983Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('5c3a4d5d-bc61-4812-a2fb-000b9a6f37f1', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('5c3a4d5d-bc61-4812-a2fb-000b9a6f37f1', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:10:44.969983Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('5c3a4d5d-bc61-4812-a2fb-000b9a6f37f1', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:44.970986Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "81fbecc8-30c8-4200-99a5-5774f451f12a"}
{"timestamp": "2026-01-10T05:10:44.971985Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:10:44.988981Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "6990e45d-5a34-4bf3-8db6-d83caa97c479"}
{"timestamp": "2026-01-10T05:10:45.003980Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('bf1befe8-fb31-4a93-bf2b-1a03f39425b9', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('bf1befe8-fb31-4a93-bf2b-1a03f39425b9', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:10:45.030981Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('bf1befe8-fb31-4a93-bf2b-1a03f39425b9', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:10:45.031982Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "6990e45d-5a34-4bf3-8db6-d83caa97c479"}
{"timestamp": "2026-01-10T05:10:45.032982Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:38.588436Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T05:11:39.153658Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "af064dce-70ba-4de9-a95a-0a4d8cce2dd1"}
{"timestamp": "2026-01-10T05:11:39.154658Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "af064dce-70ba-4de9-a95a-0a4d8cce2dd1"}
{"timestamp": "2026-01-10T05:11:39.156657Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.159657Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "07c35c59-88e3-4bf8-9161-e3d75dc0f613"}
{"timestamp": "2026-01-10T05:11:39.159657Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "07c35c59-88e3-4bf8-9161-e3d75dc0f613"}
{"timestamp": "2026-01-10T05:11:39.161656Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.163659Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "63aa2650-7ee5-47bf-a62c-adcb9625d2ac"}
{"timestamp": "2026-01-10T05:11:39.164656Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "63aa2650-7ee5-47bf-a62c-adcb9625d2ac"}
{"timestamp": "2026-01-10T05:11:39.165658Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.168657Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c68a4228-1239-4ea1-94ef-c6c2b4d98cf5"}
{"timestamp": "2026-01-10T05:11:39.168657Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c68a4228-1239-4ea1-94ef-c6c2b4d98cf5"}
{"timestamp": "2026-01-10T05:11:39.170656Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.173659Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "7034376a-20c5-4c06-b68d-8d6c53e21248"}
{"timestamp": "2026-01-10T05:11:39.173659Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "7034376a-20c5-4c06-b68d-8d6c53e21248"}
{"timestamp": "2026-01-10T05:11:39.174656Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.177657Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f71c137d-95b3-4ec2-aaff-d75613cfdfac"}
{"timestamp": "2026-01-10T05:11:39.177657Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f71c137d-95b3-4ec2-aaff-d75613cfdfac"}
{"timestamp": "2026-01-10T05:11:39.179659Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.180658Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "390a8659-e1f9-424f-8608-bd83fb0efe9e"}
{"timestamp": "2026-01-10T05:11:39.187656Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "390a8659-e1f9-424f-8608-bd83fb0efe9e"}
{"timestamp": "2026-01-10T05:11:39.188656Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.190659Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "014eec66-3add-412d-82aa-052082c3caab"}
{"timestamp": "2026-01-10T05:11:39.368113Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:11:39.370114Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "014eec66-3add-412d-82aa-052082c3caab"}
{"timestamp": "2026-01-10T05:11:39.372114Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.376117Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3897396c-f9f1-40e2-ab4b-fe1ceb7761fc"}
{"timestamp": "2026-01-10T05:11:39.542943Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:11:39.542943Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3897396c-f9f1-40e2-ab4b-fe1ceb7761fc"}
{"timestamp": "2026-01-10T05:11:39.544941Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.546944Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "19e42b54-1e21-4de5-a457-7d901bb74108"}
{"timestamp": "2026-01-10T05:11:39.546944Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "19e42b54-1e21-4de5-a457-7d901bb74108"}
{"timestamp": "2026-01-10T05:11:39.547942Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.550943Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "68f5725a-73d4-4db7-9a22-db79ab533fb6"}
{"timestamp": "2026-01-10T05:11:39.722944Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:11:39.722944Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "68f5725a-73d4-4db7-9a22-db79ab533fb6"}
{"timestamp": "2026-01-10T05:11:39.723944Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.726942Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "6c9ba234-a2e5-441d-800a-39d01a3ea686"}
{"timestamp": "2026-01-10T05:11:39.890942Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "6c9ba234-a2e5-441d-800a-39d01a3ea686"}
{"timestamp": "2026-01-10T05:11:39.891942Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.894944Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "4c5a20c6-0be7-43bd-9bba-861e69ec9ba7"}
{"timestamp": "2026-01-10T05:11:39.895941Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "4c5a20c6-0be7-43bd-9bba-861e69ec9ba7"}
{"timestamp": "2026-01-10T05:11:39.896942Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:39.898942Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "88d16ae1-eb05-452e-908a-054f2f059667"}
{"timestamp": "2026-01-10T05:11:40.062944Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:11:40.062944Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "88d16ae1-eb05-452e-908a-054f2f059667"}
{"timestamp": "2026-01-10T05:11:40.064300Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:40.066305Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "08439108-0d62-4ce7-b29d-23b668598acb"}
{"timestamp": "2026-01-10T05:11:40.067305Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "08439108-0d62-4ce7-b29d-23b668598acb"}
{"timestamp": "2026-01-10T05:11:40.068304Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:40.070304Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "68813d50-6f97-4d2b-8d75-511ad06d890c"}
{"timestamp": "2026-01-10T05:11:40.071305Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "68813d50-6f97-4d2b-8d75-511ad06d890c"}
{"timestamp": "2026-01-10T05:11:40.072310Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:40.074304Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "7a4ec632-6784-4ac6-a950-8ce8c01e4bc0"}
{"timestamp": "2026-01-10T05:11:40.075305Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T05:11:40.075305Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "7a4ec632-6784-4ac6-a950-8ce8c01e4bc0"}
{"timestamp": "2026-01-10T05:11:40.077305Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:40.079640Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d434f3c7-9543-4420-bd41-195aefac4bef"}
{"timestamp": "2026-01-10T05:11:40.243175Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:11:40.243175Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d434f3c7-9543-4420-bd41-195aefac4bef"}
{"timestamp": "2026-01-10T05:11:40.245179Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:40.246179Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "fdcf2599-f01e-47f2-a829-f75ba7822df6"}
{"timestamp": "2026-01-10T05:11:40.247180Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T05:11:40.247180Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "fdcf2599-f01e-47f2-a829-f75ba7822df6"}
{"timestamp": "2026-01-10T05:11:40.249177Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:40.252177Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "0d86bfa2-9ec2-4ad8-b204-5a71dc2628d7"}
{"timestamp": "2026-01-10T05:11:40.282176Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('71fdabb6-1c12-42ec-84df-5db705272c60', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('71fdabb6-1c12-42ec-84df-5db705272c60', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:11:40.310177Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('71fdabb6-1c12-42ec-84df-5db705272c60', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:40.311178Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "0d86bfa2-9ec2-4ad8-b204-5a71dc2628d7"}
{"timestamp": "2026-01-10T05:11:40.312177Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:41.607716Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "23a0a6fa-d91e-4f9e-83a1-b71d978df1ef"}
{"timestamp": "2026-01-10T05:11:41.626717Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('22602c7f-1a20-40db-ad40-5e57215cb166', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('22602c7f-1a20-40db-ad40-5e57215cb166', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:11:41.656717Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('22602c7f-1a20-40db-ad40-5e57215cb166', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:41.657717Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "23a0a6fa-d91e-4f9e-83a1-b71d978df1ef"}
{"timestamp": "2026-01-10T05:11:41.658294Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:41.677300Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "20132567-477d-4428-aca4-1510fc679ae3"}
{"timestamp": "2026-01-10T05:11:41.696298Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('64334f2d-474a-4f01-8896-ecd4faeecf84', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('64334f2d-474a-4f01-8896-ecd4faeecf84', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:11:41.727296Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('64334f2d-474a-4f01-8896-ecd4faeecf84', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:41.727296Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "20132567-477d-4428-aca4-1510fc679ae3"}
{"timestamp": "2026-01-10T05:11:41.729298Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:41.748296Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "23a1c69d-31ac-4735-804d-d7bf94cc7916"}
{"timestamp": "2026-01-10T05:11:41.749297Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:41.750298Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "23a1c69d-31ac-4735-804d-d7bf94cc7916"}
{"timestamp": "2026-01-10T05:11:41.751299Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:41.754296Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "0a73f907-cc81-4ce9-98e0-2236087dd04f"}
{"timestamp": "2026-01-10T05:11:41.773299Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('14d2b9c5-216b-4b1d-a748-705623fe9ce3', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('14d2b9c5-216b-4b1d-a748-705623fe9ce3', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:11:41.806298Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('14d2b9c5-216b-4b1d-a748-705623fe9ce3', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:41.807296Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "0a73f907-cc81-4ce9-98e0-2236087dd04f"}
{"timestamp": "2026-01-10T05:11:41.808296Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:41.812297Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "94242710-ed25-46b0-b8ea-7f6c27cde7b8"}
{"timestamp": "2026-01-10T05:11:41.817297Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:11:41.818296Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:41.819298Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "94242710-ed25-46b0-b8ea-7f6c27cde7b8"}
{"timestamp": "2026-01-10T05:11:41.821298Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:41.844296Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "782bbb49-fe0f-4258-94fe-05e9ec44e060"}
{"timestamp": "2026-01-10T05:11:41.846298Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:11:41.847297Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:41.848296Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "782bbb49-fe0f-4258-94fe-05e9ec44e060"}
{"timestamp": "2026-01-10T05:11:41.850297Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:41.874296Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "03792d48-58f3-4124-b1c4-acbf0bfd7fac"}
{"timestamp": "2026-01-10T05:11:41.878296Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:11:41.879299Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:41.880300Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "03792d48-58f3-4124-b1c4-acbf0bfd7fac"}
{"timestamp": "2026-01-10T05:11:41.881296Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:41.907297Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "75114084-d8fd-4103-a083-d39f16d34f75"}
{"timestamp": "2026-01-10T05:11:41.910299Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T05:11:41.911296Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:41.912296Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "75114084-d8fd-4103-a083-d39f16d34f75"}
{"timestamp": "2026-01-10T05:11:41.913297Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:41.935297Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "07a82321-1676-467a-a313-43a41f60b8f7"}
{"timestamp": "2026-01-10T05:11:41.955057Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('bb9e7361-7c4e-4b6b-8e66-a68cd74206a8', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('bb9e7361-7c4e-4b6b-8e66-a68cd74206a8', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:11:41.987057Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('bb9e7361-7c4e-4b6b-8e66-a68cd74206a8', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:41.988056Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "07a82321-1676-467a-a313-43a41f60b8f7"}
{"timestamp": "2026-01-10T05:11:41.990057Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:42.010056Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "4c463ec2-ac8f-4ae2-896b-a064d03bb96c"}
{"timestamp": "2026-01-10T05:11:42.031058Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('54489338-1500-4a8c-b60e-6b0d9488320b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('54489338-1500-4a8c-b60e-6b0d9488320b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:11:42.067057Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('54489338-1500-4a8c-b60e-6b0d9488320b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:42.068058Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "4c463ec2-ac8f-4ae2-896b-a064d03bb96c"}
{"timestamp": "2026-01-10T05:11:42.069057Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:11:42.090060Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d4333c83-d228-4dd3-9cfe-2f2eb45d5360"}
{"timestamp": "2026-01-10T05:11:42.110057Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('89176bda-d940-4f90-b922-52474fbd85a8', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('89176bda-d940-4f90-b922-52474fbd85a8', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:11:42.143057Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('89176bda-d940-4f90-b922-52474fbd85a8', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:11:42.144056Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d4333c83-d228-4dd3-9cfe-2f2eb45d5360"}
{"timestamp": "2026-01-10T05:11:42.146056Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:16.416448Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T05:12:16.979899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f24bf24c-2722-46eb-ba35-abe3f70723e2"}
{"timestamp": "2026-01-10T05:12:16.979899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f24bf24c-2722-46eb-ba35-abe3f70723e2"}
{"timestamp": "2026-01-10T05:12:16.981899Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:16.983899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ec3c2f1a-794b-46fd-a897-802587f9aa2c"}
{"timestamp": "2026-01-10T05:12:16.984899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ec3c2f1a-794b-46fd-a897-802587f9aa2c"}
{"timestamp": "2026-01-10T05:12:16.985899Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:16.987899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "22cc7b33-76b0-4321-9bb5-08dbbd695e74"}
{"timestamp": "2026-01-10T05:12:16.988899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "22cc7b33-76b0-4321-9bb5-08dbbd695e74"}
{"timestamp": "2026-01-10T05:12:16.989900Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:16.991899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "cb027703-2cd7-47fb-a0e8-b9d315f95b02"}
{"timestamp": "2026-01-10T05:12:16.992902Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "cb027703-2cd7-47fb-a0e8-b9d315f95b02"}
{"timestamp": "2026-01-10T05:12:16.993899Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:16.996899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "914a8e09-840a-4b83-b3b1-fa4817fc936b"}
{"timestamp": "2026-01-10T05:12:16.996899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "914a8e09-840a-4b83-b3b1-fa4817fc936b"}
{"timestamp": "2026-01-10T05:12:16.997899Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.000900Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "1b26e811-c951-48a7-9946-8e210aaf30a7"}
{"timestamp": "2026-01-10T05:12:17.000900Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "1b26e811-c951-48a7-9946-8e210aaf30a7"}
{"timestamp": "2026-01-10T05:12:17.002899Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.003899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d383b719-9fe8-427a-bf21-389739953a0f"}
{"timestamp": "2026-01-10T05:12:17.010899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d383b719-9fe8-427a-bf21-389739953a0f"}
{"timestamp": "2026-01-10T05:12:17.011899Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.013899Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "2083342a-2096-4ce3-8f60-e2d4201174ea"}
{"timestamp": "2026-01-10T05:12:17.192067Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:12:17.193065Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "2083342a-2096-4ce3-8f60-e2d4201174ea"}
{"timestamp": "2026-01-10T05:12:17.195066Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.197069Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "a1e7447e-d6b4-4823-a94e-ae9409c130f2"}
{"timestamp": "2026-01-10T05:12:17.360066Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:12:17.361067Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "a1e7447e-d6b4-4823-a94e-ae9409c130f2"}
{"timestamp": "2026-01-10T05:12:17.362065Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.364065Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "0a5f22a6-cd84-4fac-85d4-ee263d20261f"}
{"timestamp": "2026-01-10T05:12:17.365065Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "0a5f22a6-cd84-4fac-85d4-ee263d20261f"}
{"timestamp": "2026-01-10T05:12:17.366064Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.368065Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c6c44eea-2c4c-4cb1-bc22-1385a71b7559"}
{"timestamp": "2026-01-10T05:12:17.540064Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:12:17.540064Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c6c44eea-2c4c-4cb1-bc22-1385a71b7559"}
{"timestamp": "2026-01-10T05:12:17.541064Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.544064Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f72f925b-36b9-4212-8d8c-46fc6cb2dcc4"}
{"timestamp": "2026-01-10T05:12:17.708068Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f72f925b-36b9-4212-8d8c-46fc6cb2dcc4"}
{"timestamp": "2026-01-10T05:12:17.709064Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.711064Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "a93d7217-265c-4365-9ce2-9d7ea0833715"}
{"timestamp": "2026-01-10T05:12:17.712064Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "a93d7217-265c-4365-9ce2-9d7ea0833715"}
{"timestamp": "2026-01-10T05:12:17.713064Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.715065Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "08259ecf-fe02-466a-bd43-fbcc12b4be14"}
{"timestamp": "2026-01-10T05:12:17.877926Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:12:17.878926Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "08259ecf-fe02-466a-bd43-fbcc12b4be14"}
{"timestamp": "2026-01-10T05:12:17.879926Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.881928Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "55e9e9e3-367d-472e-bc2c-a8100aa59b6a"}
{"timestamp": "2026-01-10T05:12:17.881928Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "55e9e9e3-367d-472e-bc2c-a8100aa59b6a"}
{"timestamp": "2026-01-10T05:12:17.883926Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.885926Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "590a948a-4a53-4e8b-9311-3459f8e28647"}
{"timestamp": "2026-01-10T05:12:17.886928Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "590a948a-4a53-4e8b-9311-3459f8e28647"}
{"timestamp": "2026-01-10T05:12:17.887925Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.889927Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "7472429e-bb62-4393-b6da-7124487d629d"}
{"timestamp": "2026-01-10T05:12:17.890926Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T05:12:17.890926Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "7472429e-bb62-4393-b6da-7124487d629d"}
{"timestamp": "2026-01-10T05:12:17.891927Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:17.894927Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f3669f1a-2a30-45e7-9f78-4b81725bcda5"}
{"timestamp": "2026-01-10T05:12:18.057925Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:12:18.057925Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f3669f1a-2a30-45e7-9f78-4b81725bcda5"}
{"timestamp": "2026-01-10T05:12:18.058926Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:18.060926Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e04fe507-76d0-4148-88ba-9282ee243eaa"}
{"timestamp": "2026-01-10T05:12:18.061926Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T05:12:18.061926Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e04fe507-76d0-4148-88ba-9282ee243eaa"}
{"timestamp": "2026-01-10T05:12:18.063925Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:18.065926Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ea3d93dd-29ad-46df-bdd0-751d75636737"}
{"timestamp": "2026-01-10T05:12:18.096926Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('28a42252-557a-4fed-9c08-3889fc7523b5', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('28a42252-557a-4fed-9c08-3889fc7523b5', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:12:18.125926Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('28a42252-557a-4fed-9c08-3889fc7523b5', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:18.126925Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ea3d93dd-29ad-46df-bdd0-751d75636737"}
{"timestamp": "2026-01-10T05:12:18.127926Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:19.298313Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d6d47f42-122b-4da6-a5bc-083e6662728b"}
{"timestamp": "2026-01-10T05:12:19.314313Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('096fa995-85b9-4584-8d3a-7c2bf02ebc50', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('096fa995-85b9-4584-8d3a-7c2bf02ebc50', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:12:19.341312Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('096fa995-85b9-4584-8d3a-7c2bf02ebc50', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:19.342314Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d6d47f42-122b-4da6-a5bc-083e6662728b"}
{"timestamp": "2026-01-10T05:12:19.343315Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:19.360312Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b24f84ca-3f06-41b9-bf57-28d394004b8a"}
{"timestamp": "2026-01-10T05:12:19.375312Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c2725549-b7e4-4e3c-bc5a-c33da9ff57f5', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c2725549-b7e4-4e3c-bc5a-c33da9ff57f5', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:12:19.402312Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c2725549-b7e4-4e3c-bc5a-c33da9ff57f5', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:19.403313Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b24f84ca-3f06-41b9-bf57-28d394004b8a"}
{"timestamp": "2026-01-10T05:12:19.404315Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:19.420315Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "19ef09fe-0b5f-4022-88a4-ffb597a73495"}
{"timestamp": "2026-01-10T05:12:19.422315Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:19.422315Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "19ef09fe-0b5f-4022-88a4-ffb597a73495"}
{"timestamp": "2026-01-10T05:12:19.423313Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:19.426312Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5b3352e5-d62c-44ec-b3cc-3bb21ab004b0"}
{"timestamp": "2026-01-10T05:12:19.441312Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('927c19e5-1fac-40b5-904a-54f8fc11289a', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('927c19e5-1fac-40b5-904a-54f8fc11289a', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:12:19.467315Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('927c19e5-1fac-40b5-904a-54f8fc11289a', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:19.468313Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5b3352e5-d62c-44ec-b3cc-3bb21ab004b0"}
{"timestamp": "2026-01-10T05:12:19.469313Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:19.471313Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "eab2669e-2fd8-46f3-b002-c277f80649b0"}
{"timestamp": "2026-01-10T05:12:19.475312Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:12:19.477312Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:19.477312Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "eab2669e-2fd8-46f3-b002-c277f80649b0"}
{"timestamp": "2026-01-10T05:12:19.479312Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:19.496313Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d87fb2dd-b251-4395-86a5-5ee5e621f482"}
{"timestamp": "2026-01-10T05:12:19.498313Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:12:19.499315Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:19.500313Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d87fb2dd-b251-4395-86a5-5ee5e621f482"}
{"timestamp": "2026-01-10T05:12:19.501313Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:19.519313Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "52373eca-dc87-46cc-a1bc-d739664a9c9a"}
{"timestamp": "2026-01-10T05:12:19.522311Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:12:19.523315Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:19.524313Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "52373eca-dc87-46cc-a1bc-d739664a9c9a"}
{"timestamp": "2026-01-10T05:12:19.525315Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:19.542314Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "515761d3-ac63-4135-b5a4-d55be3be6bdd"}
{"timestamp": "2026-01-10T05:12:19.545316Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T05:12:19.546316Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:19.546316Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "515761d3-ac63-4135-b5a4-d55be3be6bdd"}
{"timestamp": "2026-01-10T05:12:19.547314Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:19.564315Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "1f59ba8a-bbc4-4d3c-a005-c7a77200cc25"}
{"timestamp": "2026-01-10T05:12:19.580312Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f6c7ec13-3dc9-4a7d-a2f5-6cd423e6c7ec', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f6c7ec13-3dc9-4a7d-a2f5-6cd423e6c7ec', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:12:19.612315Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f6c7ec13-3dc9-4a7d-a2f5-6cd423e6c7ec', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:19.613314Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "1f59ba8a-bbc4-4d3c-a005-c7a77200cc25"}
{"timestamp": "2026-01-10T05:12:19.615313Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:19.638951Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "bd3bb86e-e2fa-4977-867c-a2c8186de031"}
{"timestamp": "2026-01-10T05:12:19.655762Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e843b7b1-4ce1-45d4-ad1d-626919e882ef', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e843b7b1-4ce1-45d4-ad1d-626919e882ef', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:12:19.685762Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e843b7b1-4ce1-45d4-ad1d-626919e882ef', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:19.686761Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "bd3bb86e-e2fa-4977-867c-a2c8186de031"}
{"timestamp": "2026-01-10T05:12:19.688766Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:12:19.706762Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e6a20a23-6560-4c85-9206-78286f11b851"}
{"timestamp": "2026-01-10T05:12:19.722762Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e012cd0c-d307-4de0-94a3-2d79d6791669', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e012cd0c-d307-4de0-94a3-2d79d6791669', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:12:19.749763Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e012cd0c-d307-4de0-94a3-2d79d6791669', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:12:19.750764Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e6a20a23-6560-4c85-9206-78286f11b851"}
{"timestamp": "2026-01-10T05:12:19.751761Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:47.744948Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T05:14:48.309155Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "2a6be6b1-f558-47da-9ef9-e18d253c5820"}
{"timestamp": "2026-01-10T05:14:48.310157Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "2a6be6b1-f558-47da-9ef9-e18d253c5820"}
{"timestamp": "2026-01-10T05:14:48.312157Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:48.314157Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "14a8fddc-2d49-4caf-bbfc-2e737a084bec"}
{"timestamp": "2026-01-10T05:14:48.314157Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "14a8fddc-2d49-4caf-bbfc-2e737a084bec"}
{"timestamp": "2026-01-10T05:14:48.316159Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:48.318157Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "20ddf48a-fc9b-405e-a351-0119b6bb5d23"}
{"timestamp": "2026-01-10T05:14:48.318157Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "20ddf48a-fc9b-405e-a351-0119b6bb5d23"}
{"timestamp": "2026-01-10T05:14:48.320155Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:48.322155Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "bcb365fa-4541-4aa5-a8b3-25710e6756ee"}
{"timestamp": "2026-01-10T05:14:48.323155Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "bcb365fa-4541-4aa5-a8b3-25710e6756ee"}
{"timestamp": "2026-01-10T05:14:48.324157Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:48.326155Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "12ede8e0-eb45-4ca9-a844-26bdea23bf58"}
{"timestamp": "2026-01-10T05:14:48.327157Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "12ede8e0-eb45-4ca9-a844-26bdea23bf58"}
{"timestamp": "2026-01-10T05:14:48.328156Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:48.330157Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "82331db7-3269-4461-8b44-4a5d49568143"}
{"timestamp": "2026-01-10T05:14:48.331158Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "82331db7-3269-4461-8b44-4a5d49568143"}
{"timestamp": "2026-01-10T05:14:48.332155Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:48.334156Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d4d022fe-040e-476a-a5b5-1171e444f095"}
{"timestamp": "2026-01-10T05:14:48.340157Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d4d022fe-040e-476a-a5b5-1171e444f095"}
{"timestamp": "2026-01-10T05:14:48.342157Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:48.344155Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "18c23785-1752-49fd-92bd-8524599a1a15"}
{"timestamp": "2026-01-10T05:14:48.521773Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:14:48.522773Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "18c23785-1752-49fd-92bd-8524599a1a15"}
{"timestamp": "2026-01-10T05:14:48.523775Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:48.526775Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "6b5e1e2b-63e6-42ee-9ab8-7c700423aa0f"}
{"timestamp": "2026-01-10T05:14:48.690771Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:14:48.690771Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "6b5e1e2b-63e6-42ee-9ab8-7c700423aa0f"}
{"timestamp": "2026-01-10T05:14:48.691773Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:48.693773Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f1834127-6560-433f-b4fe-ff52e16eedb6"}
{"timestamp": "2026-01-10T05:14:48.694774Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f1834127-6560-433f-b4fe-ff52e16eedb6"}
{"timestamp": "2026-01-10T05:14:48.695773Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:48.698773Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "2f5eaaa3-4698-40b5-9ab7-2a071bcdc767"}
{"timestamp": "2026-01-10T05:14:48.869283Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:14:48.869283Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "2f5eaaa3-4698-40b5-9ab7-2a071bcdc767"}
{"timestamp": "2026-01-10T05:14:48.871281Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:48.873280Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "0f676384-fbc0-441f-aa7d-23c6a11508cb"}
{"timestamp": "2026-01-10T05:14:49.036279Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "0f676384-fbc0-441f-aa7d-23c6a11508cb"}
{"timestamp": "2026-01-10T05:14:49.037279Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:49.040280Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "775f5f3d-fb2c-47ea-bfb7-847ac9931054"}
{"timestamp": "2026-01-10T05:14:49.040280Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "775f5f3d-fb2c-47ea-bfb7-847ac9931054"}
{"timestamp": "2026-01-10T05:14:49.041280Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:49.044280Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "7c7b0c8e-86ea-47c2-8621-73d853b3c40d"}
{"timestamp": "2026-01-10T05:14:49.207278Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:14:49.207278Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "7c7b0c8e-86ea-47c2-8621-73d853b3c40d"}
{"timestamp": "2026-01-10T05:14:49.208278Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:49.210280Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ca11947c-b2f1-4754-8d87-cb2763cbe0c0"}
{"timestamp": "2026-01-10T05:14:49.211278Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ca11947c-b2f1-4754-8d87-cb2763cbe0c0"}
{"timestamp": "2026-01-10T05:14:49.212278Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:49.214278Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "17c5cf5b-ce86-408d-ad40-8653453b3c13"}
{"timestamp": "2026-01-10T05:14:49.215278Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "17c5cf5b-ce86-408d-ad40-8653453b3c13"}
{"timestamp": "2026-01-10T05:14:49.216280Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:49.218279Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "fdffc93d-3afc-4f24-b179-6e965c54d131"}
{"timestamp": "2026-01-10T05:14:49.219279Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T05:14:49.219279Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "fdffc93d-3afc-4f24-b179-6e965c54d131"}
{"timestamp": "2026-01-10T05:14:49.221278Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:49.223280Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8a8387e0-e9c9-48a9-a58c-779eb09ba027"}
{"timestamp": "2026-01-10T05:14:49.387280Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:14:49.387280Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8a8387e0-e9c9-48a9-a58c-779eb09ba027"}
{"timestamp": "2026-01-10T05:14:49.388279Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:49.390281Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e200f50d-d400-4a0f-916f-a26e214dd6be"}
{"timestamp": "2026-01-10T05:14:49.390281Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T05:14:49.391279Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e200f50d-d400-4a0f-916f-a26e214dd6be"}
{"timestamp": "2026-01-10T05:14:49.392281Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:49.395282Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "18a3e4db-41bd-4e8c-b62f-7ef3d856b8f0"}
{"timestamp": "2026-01-10T05:14:49.425281Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c39fddc0-678a-45fe-ae27-5aac9e447bc6', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c39fddc0-678a-45fe-ae27-5aac9e447bc6', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:14:49.451280Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c39fddc0-678a-45fe-ae27-5aac9e447bc6', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:49.452282Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "18a3e4db-41bd-4e8c-b62f-7ef3d856b8f0"}
{"timestamp": "2026-01-10T05:14:49.453280Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:50.652400Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "08ba2d0f-d27b-4ea5-b7c7-64968cc796df"}
{"timestamp": "2026-01-10T05:14:50.668398Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('511346d9-8763-4134-85e3-3981ce56c1d9', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('511346d9-8763-4134-85e3-3981ce56c1d9', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:14:50.695399Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('511346d9-8763-4134-85e3-3981ce56c1d9', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:50.696401Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "08ba2d0f-d27b-4ea5-b7c7-64968cc796df"}
{"timestamp": "2026-01-10T05:14:50.697398Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:50.714398Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "61af1f05-b7fc-4f60-99fb-1728b9b577a3"}
{"timestamp": "2026-01-10T05:14:50.730398Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('be96d22c-d490-4162-a0f9-4eee00736826', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('be96d22c-d490-4162-a0f9-4eee00736826', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:14:50.756398Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('be96d22c-d490-4162-a0f9-4eee00736826', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:50.757399Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "61af1f05-b7fc-4f60-99fb-1728b9b577a3"}
{"timestamp": "2026-01-10T05:14:50.758399Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:50.775398Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f259d67d-da89-45eb-abe2-e2b2c57d1888"}
{"timestamp": "2026-01-10T05:14:50.776399Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:50.776399Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f259d67d-da89-45eb-abe2-e2b2c57d1888"}
{"timestamp": "2026-01-10T05:14:50.777400Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:50.780401Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "dedf6654-fedc-4e43-a942-47e303a5f873"}
{"timestamp": "2026-01-10T05:14:50.795398Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('76508bff-89cc-440d-b1ce-a4629328d34e', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('76508bff-89cc-440d-b1ce-a4629328d34e', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:14:50.821400Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('76508bff-89cc-440d-b1ce-a4629328d34e', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:50.822398Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "dedf6654-fedc-4e43-a942-47e303a5f873"}
{"timestamp": "2026-01-10T05:14:50.823399Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:50.825398Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "218c7f91-e339-493e-8d33-aca1f4268841"}
{"timestamp": "2026-01-10T05:14:50.829400Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:14:50.830399Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:50.831399Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "218c7f91-e339-493e-8d33-aca1f4268841"}
{"timestamp": "2026-01-10T05:14:50.832398Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:50.850400Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c687f7ee-ddd3-46f1-89d6-1d0b90902a9c"}
{"timestamp": "2026-01-10T05:14:50.852399Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:14:50.853399Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:50.854401Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c687f7ee-ddd3-46f1-89d6-1d0b90902a9c"}
{"timestamp": "2026-01-10T05:14:50.855401Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:50.872400Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "747c552a-79af-4df1-b74c-f2a060f0b740"}
{"timestamp": "2026-01-10T05:14:50.876400Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:14:50.877399Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:50.877399Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "747c552a-79af-4df1-b74c-f2a060f0b740"}
{"timestamp": "2026-01-10T05:14:50.879402Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:50.896399Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b9d78737-87d2-49d8-8597-5bdc0a1901cf"}
{"timestamp": "2026-01-10T05:14:50.898399Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T05:14:50.899400Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:50.900399Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b9d78737-87d2-49d8-8597-5bdc0a1901cf"}
{"timestamp": "2026-01-10T05:14:50.901398Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:50.917401Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ad34d6e6-ea4b-475b-9b54-33348fdb379b"}
{"timestamp": "2026-01-10T05:14:50.933399Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('7cc36789-313d-4063-9c21-4994de46e134', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('7cc36789-313d-4063-9c21-4994de46e134', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:14:50.960400Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('7cc36789-313d-4063-9c21-4994de46e134', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:50.961401Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ad34d6e6-ea4b-475b-9b54-33348fdb379b"}
{"timestamp": "2026-01-10T05:14:50.962398Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:50.979398Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e517f650-38d8-4379-bb18-de21e29757a7"}
{"timestamp": "2026-01-10T05:14:50.994397Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('5fa9cb5f-6481-42af-8f2f-c2f4e7698d72', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('5fa9cb5f-6481-42af-8f2f-c2f4e7698d72', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:14:51.021397Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('5fa9cb5f-6481-42af-8f2f-c2f4e7698d72', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:51.022398Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e517f650-38d8-4379-bb18-de21e29757a7"}
{"timestamp": "2026-01-10T05:14:51.023401Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:14:51.040399Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "016d180e-a1db-48f5-aee3-9faebef199ac"}
{"timestamp": "2026-01-10T05:14:51.056397Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4a3b342c-a3b4-4372-845f-122054fb6eb4', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4a3b342c-a3b4-4372-845f-122054fb6eb4', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:14:51.083399Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4a3b342c-a3b4-4372-845f-122054fb6eb4', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:14:51.083399Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "016d180e-a1db-48f5-aee3-9faebef199ac"}
{"timestamp": "2026-01-10T05:14:51.084400Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:36.731020Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T05:15:37.292223Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "2c0eb3dc-fc2c-42cf-b965-39c773c17b49"}
{"timestamp": "2026-01-10T05:15:37.292223Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "2c0eb3dc-fc2c-42cf-b965-39c773c17b49"}
{"timestamp": "2026-01-10T05:15:37.294224Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:37.296223Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "35c2630f-891c-4358-bd56-af83d4a3c1b1"}
{"timestamp": "2026-01-10T05:15:37.297224Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "35c2630f-891c-4358-bd56-af83d4a3c1b1"}
{"timestamp": "2026-01-10T05:15:37.298224Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:37.301224Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ba6a38bc-b3b0-4a6d-b3b8-b35f20c9a7cc"}
{"timestamp": "2026-01-10T05:15:37.301224Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ba6a38bc-b3b0-4a6d-b3b8-b35f20c9a7cc"}
{"timestamp": "2026-01-10T05:15:37.302224Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:37.304223Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5c12d4d8-a4ee-453a-a99e-f9df44e69d38"}
{"timestamp": "2026-01-10T05:15:37.305225Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5c12d4d8-a4ee-453a-a99e-f9df44e69d38"}
{"timestamp": "2026-01-10T05:15:37.307223Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:37.309223Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "dceafaea-4158-4027-a5e9-92bc75e0c4ae"}
{"timestamp": "2026-01-10T05:15:37.309223Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "dceafaea-4158-4027-a5e9-92bc75e0c4ae"}
{"timestamp": "2026-01-10T05:15:37.310224Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:37.313223Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "9cb777d9-24d2-47d5-a6e8-887e310a3809"}
{"timestamp": "2026-01-10T05:15:37.313223Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "9cb777d9-24d2-47d5-a6e8-887e310a3809"}
{"timestamp": "2026-01-10T05:15:37.314223Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:37.316223Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "65bdfe09-5054-4fe7-8f21-ecf5dd2b0940"}
{"timestamp": "2026-01-10T05:15:37.322222Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "65bdfe09-5054-4fe7-8f21-ecf5dd2b0940"}
{"timestamp": "2026-01-10T05:15:37.324223Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:37.326223Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "a1e2d10c-b015-49e0-9074-7fb6a23f4ab3"}
{"timestamp": "2026-01-10T05:15:37.503223Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:15:37.503223Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "a1e2d10c-b015-49e0-9074-7fb6a23f4ab3"}
{"timestamp": "2026-01-10T05:15:37.505227Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:37.507222Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "217c898f-dac1-411d-9d4c-b8581f02db7d"}
{"timestamp": "2026-01-10T05:15:37.671126Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:15:37.671126Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "217c898f-dac1-411d-9d4c-b8581f02db7d"}
{"timestamp": "2026-01-10T05:15:37.672126Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:37.674124Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "24576d95-b2cf-4142-81b7-dcb293053d8d"}
{"timestamp": "2026-01-10T05:15:37.675124Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "24576d95-b2cf-4142-81b7-dcb293053d8d"}
{"timestamp": "2026-01-10T05:15:37.676129Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:37.678125Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "08d4e888-436a-4465-95e2-350d21869433"}
{"timestamp": "2026-01-10T05:15:37.849125Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:15:37.849125Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "08d4e888-436a-4465-95e2-350d21869433"}
{"timestamp": "2026-01-10T05:15:37.850124Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:37.853125Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3cb7d02d-a64f-4617-8a86-d9700b0b5d93"}
{"timestamp": "2026-01-10T05:15:38.018124Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3cb7d02d-a64f-4617-8a86-d9700b0b5d93"}
{"timestamp": "2026-01-10T05:15:38.019125Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:38.021125Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "bf63dc53-f5b7-4b01-afbc-4e411c6dfc70"}
{"timestamp": "2026-01-10T05:15:38.022125Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "bf63dc53-f5b7-4b01-afbc-4e411c6dfc70"}
{"timestamp": "2026-01-10T05:15:38.024124Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:38.026126Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e1de9e25-d94c-4994-8fc2-10b5d264a95d"}
{"timestamp": "2026-01-10T05:15:38.190123Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:15:38.190123Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e1de9e25-d94c-4994-8fc2-10b5d264a95d"}
{"timestamp": "2026-01-10T05:15:38.192125Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:38.193124Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "40ff5d55-c959-4f1b-acd5-6a0bb119ab5e"}
{"timestamp": "2026-01-10T05:15:38.194124Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "40ff5d55-c959-4f1b-acd5-6a0bb119ab5e"}
{"timestamp": "2026-01-10T05:15:38.195124Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:38.198124Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8efb12e0-52d1-4ee5-ac40-fd498760a1d8"}
{"timestamp": "2026-01-10T05:15:38.198124Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8efb12e0-52d1-4ee5-ac40-fd498760a1d8"}
{"timestamp": "2026-01-10T05:15:38.199124Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:38.201125Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "63c25d33-5caa-4826-8a4f-2e14a1e1cfc5"}
{"timestamp": "2026-01-10T05:15:38.202124Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T05:15:38.202124Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "63c25d33-5caa-4826-8a4f-2e14a1e1cfc5"}
{"timestamp": "2026-01-10T05:15:38.204123Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:38.206125Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "422e3133-3772-4807-b223-53c0b2d1c645"}
{"timestamp": "2026-01-10T05:15:38.372124Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:15:38.372124Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "422e3133-3772-4807-b223-53c0b2d1c645"}
{"timestamp": "2026-01-10T05:15:38.374124Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:38.376125Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e8004d64-21a5-453f-8fee-c2e0c43fbad8"}
{"timestamp": "2026-01-10T05:15:38.376125Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T05:15:38.377126Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e8004d64-21a5-453f-8fee-c2e0c43fbad8"}
{"timestamp": "2026-01-10T05:15:38.378124Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:38.381124Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "438e017c-4fd6-43aa-9f31-38145284d32b"}
{"timestamp": "2026-01-10T05:15:38.411124Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('63dd7c0c-1af1-4714-acd3-1f1b6fb90805', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('63dd7c0c-1af1-4714-acd3-1f1b6fb90805', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:15:38.438124Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('63dd7c0c-1af1-4714-acd3-1f1b6fb90805', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:38.439124Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "438e017c-4fd6-43aa-9f31-38145284d32b"}
{"timestamp": "2026-01-10T05:15:38.440123Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:39.603773Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f8c673f9-96f9-4380-8869-9b4523fb69ff"}
{"timestamp": "2026-01-10T05:15:39.619844Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('dd3ed202-ee79-4136-bc02-7577c9665229', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('dd3ed202-ee79-4136-bc02-7577c9665229', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:15:39.646204Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('dd3ed202-ee79-4136-bc02-7577c9665229', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:39.647204Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f8c673f9-96f9-4380-8869-9b4523fb69ff"}
{"timestamp": "2026-01-10T05:15:39.648204Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:39.665204Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c207fdbb-62c7-4f55-b0f1-e5b96a7499cf"}
{"timestamp": "2026-01-10T05:15:39.681203Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('9ec7ef95-2695-4088-b0f9-f89e9f5e3ce6', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('9ec7ef95-2695-4088-b0f9-f89e9f5e3ce6', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:15:39.708204Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('9ec7ef95-2695-4088-b0f9-f89e9f5e3ce6', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:39.708204Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c207fdbb-62c7-4f55-b0f1-e5b96a7499cf"}
{"timestamp": "2026-01-10T05:15:39.709203Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:39.726203Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "896435d6-1a02-4d67-9ff7-9012002bea36"}
{"timestamp": "2026-01-10T05:15:39.727205Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:39.727205Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "896435d6-1a02-4d67-9ff7-9012002bea36"}
{"timestamp": "2026-01-10T05:15:39.728204Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:39.730204Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "179eadbd-7fe4-4ea2-b80d-b3664e7d98c7"}
{"timestamp": "2026-01-10T05:15:39.746205Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('b07b5bdc-68bd-479d-8fac-c1313265c8f9', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('b07b5bdc-68bd-479d-8fac-c1313265c8f9', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:15:39.774205Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('b07b5bdc-68bd-479d-8fac-c1313265c8f9', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:39.774205Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "179eadbd-7fe4-4ea2-b80d-b3664e7d98c7"}
{"timestamp": "2026-01-10T05:15:39.775204Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:39.778204Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "6badf426-6445-46d7-b87b-aa8e8f5a3150"}
{"timestamp": "2026-01-10T05:15:39.782204Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:15:39.783203Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:39.783203Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "6badf426-6445-46d7-b87b-aa8e8f5a3150"}
{"timestamp": "2026-01-10T05:15:39.785203Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:39.803204Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5156a39e-fd9a-4707-b913-eb833f13c95b"}
{"timestamp": "2026-01-10T05:15:39.805204Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:15:39.806204Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:39.806204Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5156a39e-fd9a-4707-b913-eb833f13c95b"}
{"timestamp": "2026-01-10T05:15:39.808203Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:39.825203Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "37f0fe48-6918-4dd8-aec4-3ba2d476f897"}
{"timestamp": "2026-01-10T05:15:39.828203Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:15:39.829204Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:39.829204Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "37f0fe48-6918-4dd8-aec4-3ba2d476f897"}
{"timestamp": "2026-01-10T05:15:39.831203Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:39.847203Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c0090fd0-39e6-489d-b0a4-ba7be054d06d"}
{"timestamp": "2026-01-10T05:15:39.849205Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T05:15:39.850203Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:39.851203Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c0090fd0-39e6-489d-b0a4-ba7be054d06d"}
{"timestamp": "2026-01-10T05:15:39.852203Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:39.869204Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f349a864-090a-47c5-ae51-1f4ee3bab14a"}
{"timestamp": "2026-01-10T05:15:39.884205Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1bbd4ad8-9545-4248-bfb8-6d5ed3db167f', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1bbd4ad8-9545-4248-bfb8-6d5ed3db167f', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:15:39.911203Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('1bbd4ad8-9545-4248-bfb8-6d5ed3db167f', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:39.911203Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f349a864-090a-47c5-ae51-1f4ee3bab14a"}
{"timestamp": "2026-01-10T05:15:39.912204Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:39.929205Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "2b2116c3-1748-4c75-9ed8-6b54ae127cdc"}
{"timestamp": "2026-01-10T05:15:39.945202Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('711f578f-dbf3-46d2-bab1-4a6cbb31c78e', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('711f578f-dbf3-46d2-bab1-4a6cbb31c78e', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:15:39.972846Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('711f578f-dbf3-46d2-bab1-4a6cbb31c78e', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:39.973847Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "2b2116c3-1748-4c75-9ed8-6b54ae127cdc"}
{"timestamp": "2026-01-10T05:15:39.974846Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:15:39.992847Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b80c0324-1ac4-401a-af85-215e61e1024c"}
{"timestamp": "2026-01-10T05:15:40.011849Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('43676665-b55c-44e0-9c17-1d7cd8086c25', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('43676665-b55c-44e0-9c17-1d7cd8086c25', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:15:40.040847Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('43676665-b55c-44e0-9c17-1d7cd8086c25', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:15:40.041850Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b80c0324-1ac4-401a-af85-215e61e1024c"}
{"timestamp": "2026-01-10T05:15:40.043852Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:36.120477Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T05:16:36.688474Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5e9701dd-15b3-405e-83a7-3a1eba7823be"}
{"timestamp": "2026-01-10T05:16:36.688474Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5e9701dd-15b3-405e-83a7-3a1eba7823be"}
{"timestamp": "2026-01-10T05:16:36.690473Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:36.692476Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "92490593-471a-4a50-a069-d3659a39831d"}
{"timestamp": "2026-01-10T05:16:36.693472Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "92490593-471a-4a50-a069-d3659a39831d"}
{"timestamp": "2026-01-10T05:16:36.694473Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:36.696475Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "91f91d87-b32c-444d-9904-ac0edf9d0f54"}
{"timestamp": "2026-01-10T05:16:36.697476Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "91f91d87-b32c-444d-9904-ac0edf9d0f54"}
{"timestamp": "2026-01-10T05:16:36.698472Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:36.700475Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "dbc7046e-d052-435c-9b1e-35fefa0ca7a4"}
{"timestamp": "2026-01-10T05:16:36.701473Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "dbc7046e-d052-435c-9b1e-35fefa0ca7a4"}
{"timestamp": "2026-01-10T05:16:36.702472Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:36.704849Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "2fe5171b-b348-4bb6-98c7-679c1ecbe831"}
{"timestamp": "2026-01-10T05:16:36.705857Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "2fe5171b-b348-4bb6-98c7-679c1ecbe831"}
{"timestamp": "2026-01-10T05:16:36.706869Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:36.709082Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f2029261-067e-4024-b551-1911e1ddaefc"}
{"timestamp": "2026-01-10T05:16:36.709082Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f2029261-067e-4024-b551-1911e1ddaefc"}
{"timestamp": "2026-01-10T05:16:36.711335Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:36.712342Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "a2187e5c-6297-41de-a01a-b8bdb750c084"}
{"timestamp": "2026-01-10T05:16:36.719413Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "a2187e5c-6297-41de-a01a-b8bdb750c084"}
{"timestamp": "2026-01-10T05:16:36.720414Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:36.722415Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "713e5fcb-ac2b-465a-adfd-0753a2ce6422"}
{"timestamp": "2026-01-10T05:16:36.900414Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:16:36.900414Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "713e5fcb-ac2b-465a-adfd-0753a2ce6422"}
{"timestamp": "2026-01-10T05:16:36.901416Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:36.904414Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "00f9abcf-b6af-44c5-808b-e7dd9070a7ab"}
{"timestamp": "2026-01-10T05:16:37.067412Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:16:37.068413Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "00f9abcf-b6af-44c5-808b-e7dd9070a7ab"}
{"timestamp": "2026-01-10T05:16:37.069414Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:37.071414Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "20dd05c8-12bd-412b-827c-23cadc3416d1"}
{"timestamp": "2026-01-10T05:16:37.071414Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "20dd05c8-12bd-412b-827c-23cadc3416d1"}
{"timestamp": "2026-01-10T05:16:37.073414Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:37.075416Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "76d81051-79d0-4fe7-b35b-4aabfcb9db59"}
{"timestamp": "2026-01-10T05:16:37.247414Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:16:37.248414Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "76d81051-79d0-4fe7-b35b-4aabfcb9db59"}
{"timestamp": "2026-01-10T05:16:37.249413Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:37.251417Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c1502d2a-e442-45bf-8ed8-b6e4f68b9901"}
{"timestamp": "2026-01-10T05:16:37.415412Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c1502d2a-e442-45bf-8ed8-b6e4f68b9901"}
{"timestamp": "2026-01-10T05:16:37.416415Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:37.419413Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ecd4dff5-0a00-4350-b181-74a8ecc6f07a"}
{"timestamp": "2026-01-10T05:16:37.420413Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ecd4dff5-0a00-4350-b181-74a8ecc6f07a"}
{"timestamp": "2026-01-10T05:16:37.421413Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:37.424415Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "158bd50a-799e-432e-8161-976871456725"}
{"timestamp": "2026-01-10T05:16:37.591811Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:16:37.591811Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "158bd50a-799e-432e-8161-976871456725"}
{"timestamp": "2026-01-10T05:16:37.593809Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:37.595811Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b2163933-0ef4-46c3-a819-9615f3edc997"}
{"timestamp": "2026-01-10T05:16:37.596810Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b2163933-0ef4-46c3-a819-9615f3edc997"}
{"timestamp": "2026-01-10T05:16:37.598812Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:37.601812Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "92150d3a-c9c3-4f53-849c-39024cd35253"}
{"timestamp": "2026-01-10T05:16:37.602810Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "92150d3a-c9c3-4f53-849c-39024cd35253"}
{"timestamp": "2026-01-10T05:16:37.603813Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:37.606810Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f1700b5e-bd27-477e-864e-5dc44df6a620"}
{"timestamp": "2026-01-10T05:16:37.606810Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T05:16:37.606810Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f1700b5e-bd27-477e-864e-5dc44df6a620"}
{"timestamp": "2026-01-10T05:16:37.608811Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:37.610814Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "13a42e7d-d9d4-4a05-a44d-9ce049f561c6"}
{"timestamp": "2026-01-10T05:16:37.774976Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:16:37.774976Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "13a42e7d-d9d4-4a05-a44d-9ce049f561c6"}
{"timestamp": "2026-01-10T05:16:37.776976Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:37.778976Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "fda3c2ad-ef7d-41dd-bb15-fa06bfc07902"}
{"timestamp": "2026-01-10T05:16:37.778976Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T05:16:37.779976Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "fda3c2ad-ef7d-41dd-bb15-fa06bfc07902"}
{"timestamp": "2026-01-10T05:16:37.780980Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:37.783978Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "4f0dbc24-c72b-45cf-a926-6678025179d4"}
{"timestamp": "2026-01-10T05:16:37.813979Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c40e6507-afaa-46ff-909c-d80ff1f824ba', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c40e6507-afaa-46ff-909c-d80ff1f824ba', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:16:37.840976Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('c40e6507-afaa-46ff-909c-d80ff1f824ba', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:37.841976Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "4f0dbc24-c72b-45cf-a926-6678025179d4"}
{"timestamp": "2026-01-10T05:16:37.842976Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:39.026919Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b6f2d18b-66c5-40f1-bc47-35e38912146f"}
{"timestamp": "2026-01-10T05:16:39.042917Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('8d00584a-3f9b-4e3b-825f-5ff7de3bb925', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('8d00584a-3f9b-4e3b-825f-5ff7de3bb925', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:16:39.070921Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('8d00584a-3f9b-4e3b-825f-5ff7de3bb925', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:39.070921Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b6f2d18b-66c5-40f1-bc47-35e38912146f"}
{"timestamp": "2026-01-10T05:16:39.071919Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:39.088918Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e5e057da-26d8-4978-92b7-3f62b29df5fd"}
{"timestamp": "2026-01-10T05:16:39.105109Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e7fa96a8-f34e-4dc2-827a-6704ed3d8913', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e7fa96a8-f34e-4dc2-827a-6704ed3d8913', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:16:39.132303Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('e7fa96a8-f34e-4dc2-827a-6704ed3d8913', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:39.132303Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e5e057da-26d8-4978-92b7-3f62b29df5fd"}
{"timestamp": "2026-01-10T05:16:39.133308Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:39.150307Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e10e847d-0f75-49c7-9a83-9d498a613a55"}
{"timestamp": "2026-01-10T05:16:39.151307Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:39.151307Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e10e847d-0f75-49c7-9a83-9d498a613a55"}
{"timestamp": "2026-01-10T05:16:39.152308Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:39.155307Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d9d95d09-5c13-474d-85dc-dba352bc4e5c"}
{"timestamp": "2026-01-10T05:16:39.170306Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('99c8dd3a-2b9f-4bd6-8513-dce269906507', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('99c8dd3a-2b9f-4bd6-8513-dce269906507', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:16:39.196306Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('99c8dd3a-2b9f-4bd6-8513-dce269906507', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:39.197307Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d9d95d09-5c13-474d-85dc-dba352bc4e5c"}
{"timestamp": "2026-01-10T05:16:39.198308Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:39.200307Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "44b51c0f-ef53-446a-a73c-4473401ddcb7"}
{"timestamp": "2026-01-10T05:16:39.205307Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:16:39.206307Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:39.206307Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "44b51c0f-ef53-446a-a73c-4473401ddcb7"}
{"timestamp": "2026-01-10T05:16:39.207306Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:39.226308Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3ebd1564-1d79-4d7c-b775-5a2236ec419b"}
{"timestamp": "2026-01-10T05:16:39.227308Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:16:39.229308Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:39.229308Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3ebd1564-1d79-4d7c-b775-5a2236ec419b"}
{"timestamp": "2026-01-10T05:16:39.230308Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:39.254306Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "bf6ab0d5-2222-4b95-807e-9681102b8530"}
{"timestamp": "2026-01-10T05:16:39.258306Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:16:39.260306Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:39.261306Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "bf6ab0d5-2222-4b95-807e-9681102b8530"}
{"timestamp": "2026-01-10T05:16:39.263306Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:39.286308Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "19759ca2-b679-42ba-becd-eadd6987b24d"}
{"timestamp": "2026-01-10T05:16:39.289308Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T05:16:39.291308Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:39.291308Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "19759ca2-b679-42ba-becd-eadd6987b24d"}
{"timestamp": "2026-01-10T05:16:39.293308Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:39.313307Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8d0e9843-0d10-4eb9-8d3a-3d2167c8f416"}
{"timestamp": "2026-01-10T05:16:39.332307Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('794d32c0-1c65-410e-9db2-e58300bf6146', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('794d32c0-1c65-410e-9db2-e58300bf6146', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:16:39.358984Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('794d32c0-1c65-410e-9db2-e58300bf6146', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:39.359987Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8d0e9843-0d10-4eb9-8d3a-3d2167c8f416"}
{"timestamp": "2026-01-10T05:16:39.360986Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:39.377984Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "886903b0-81f2-4f3c-9ba8-64a3843dd328"}
{"timestamp": "2026-01-10T05:16:39.393983Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('62fddda6-3e9c-4242-a15b-b611d4559e9d', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('62fddda6-3e9c-4242-a15b-b611d4559e9d', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:16:39.420984Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('62fddda6-3e9c-4242-a15b-b611d4559e9d', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:39.420984Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "886903b0-81f2-4f3c-9ba8-64a3843dd328"}
{"timestamp": "2026-01-10T05:16:39.422986Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:16:39.438984Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "abc4f4bb-48a5-40af-8e2e-46b8e2eb048a"}
{"timestamp": "2026-01-10T05:16:39.454983Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('720021d6-087e-4d12-8e8a-4c8e2bb7951b', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('720021d6-087e-4d12-8e8a-4c8e2bb7951b', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:16:39.481982Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('720021d6-087e-4d12-8e8a-4c8e2bb7951b', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:16:39.482984Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "abc4f4bb-48a5-40af-8e2e-46b8e2eb048a"}
{"timestamp": "2026-01-10T05:16:39.483984Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:37.563625Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T05:17:38.134624Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3a4e40e8-5efe-4a50-9e37-89255b7fa5fd"}
{"timestamp": "2026-01-10T05:17:38.134624Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3a4e40e8-5efe-4a50-9e37-89255b7fa5fd"}
{"timestamp": "2026-01-10T05:17:38.182302Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.184302Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "505b4b29-46fa-49e3-a011-9cdc550e7541"}
{"timestamp": "2026-01-10T05:17:38.185301Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "505b4b29-46fa-49e3-a011-9cdc550e7541"}
{"timestamp": "2026-01-10T05:17:38.186301Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.189302Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "6ed53b51-f466-493d-ba4f-14c8faf147ed"}
{"timestamp": "2026-01-10T05:17:38.189302Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "6ed53b51-f466-493d-ba4f-14c8faf147ed"}
{"timestamp": "2026-01-10T05:17:38.191300Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.193301Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "30fdca29-8df3-4b98-b47d-5228482fb7e9"}
{"timestamp": "2026-01-10T05:17:38.194301Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "30fdca29-8df3-4b98-b47d-5228482fb7e9"}
{"timestamp": "2026-01-10T05:17:38.195300Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.198181Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "7c58939b-09be-475e-9025-7e5274f1ff1f"}
{"timestamp": "2026-01-10T05:17:38.198181Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "7c58939b-09be-475e-9025-7e5274f1ff1f"}
{"timestamp": "2026-01-10T05:17:38.200185Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.202193Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c22365c4-2505-483c-850c-f447e8a8075d"}
{"timestamp": "2026-01-10T05:17:38.202193Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c22365c4-2505-483c-850c-f447e8a8075d"}
{"timestamp": "2026-01-10T05:17:38.204186Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.205185Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d0952c00-919f-4320-8758-d347f52e2673"}
{"timestamp": "2026-01-10T05:17:38.212183Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d0952c00-919f-4320-8758-d347f52e2673"}
{"timestamp": "2026-01-10T05:17:38.213185Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.216187Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c36129e0-12e2-4c42-8e6b-ba63cf81d4a3"}
{"timestamp": "2026-01-10T05:17:38.394184Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:17:38.394184Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c36129e0-12e2-4c42-8e6b-ba63cf81d4a3"}
{"timestamp": "2026-01-10T05:17:38.395186Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.398188Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "2aa09b10-aea9-4cba-8ab1-4083cf6eec9a"}
{"timestamp": "2026-01-10T05:17:38.561183Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:17:38.562186Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "2aa09b10-aea9-4cba-8ab1-4083cf6eec9a"}
{"timestamp": "2026-01-10T05:17:38.563186Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.565185Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3ed29d5e-eba1-4ddb-811f-5e3fc595bd87"}
{"timestamp": "2026-01-10T05:17:38.566188Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3ed29d5e-eba1-4ddb-811f-5e3fc595bd87"}
{"timestamp": "2026-01-10T05:17:38.567186Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.569185Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "262ac5a2-dfb3-4b0d-88d2-c3e9b5800b60"}
{"timestamp": "2026-01-10T05:17:38.740188Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:17:38.741187Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "262ac5a2-dfb3-4b0d-88d2-c3e9b5800b60"}
{"timestamp": "2026-01-10T05:17:38.742185Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.744187Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b795fb46-2457-4aec-836a-37cdaadfe9d2"}
{"timestamp": "2026-01-10T05:17:38.907875Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b795fb46-2457-4aec-836a-37cdaadfe9d2"}
{"timestamp": "2026-01-10T05:17:38.908879Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.911879Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3ec1c88c-189f-4b71-908b-d0b72aea907b"}
{"timestamp": "2026-01-10T05:17:38.912880Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3ec1c88c-189f-4b71-908b-d0b72aea907b"}
{"timestamp": "2026-01-10T05:17:38.913880Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:38.915876Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "a6743fa7-931b-4146-9444-15251867bd09"}
{"timestamp": "2026-01-10T05:17:39.079874Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:17:39.079874Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "a6743fa7-931b-4146-9444-15251867bd09"}
{"timestamp": "2026-01-10T05:17:39.080876Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:39.082876Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5a19c526-f16d-4f6e-97a7-957d9ef3c876"}
{"timestamp": "2026-01-10T05:17:39.083878Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5a19c526-f16d-4f6e-97a7-957d9ef3c876"}
{"timestamp": "2026-01-10T05:17:39.084877Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:39.087876Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f5d55063-1c84-4414-9c1e-d17b991643fa"}
{"timestamp": "2026-01-10T05:17:39.087876Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f5d55063-1c84-4414-9c1e-d17b991643fa"}
{"timestamp": "2026-01-10T05:17:39.089876Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:39.091878Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "0484b1a2-d66c-430b-a2e1-dd292d40f038"}
{"timestamp": "2026-01-10T05:17:39.092875Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T05:17:39.092875Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "0484b1a2-d66c-430b-a2e1-dd292d40f038"}
{"timestamp": "2026-01-10T05:17:39.093877Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:39.096876Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e090b6d1-fa8e-4ba5-b84f-646570524a54"}
{"timestamp": "2026-01-10T05:17:39.259874Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:17:39.259874Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e090b6d1-fa8e-4ba5-b84f-646570524a54"}
{"timestamp": "2026-01-10T05:17:39.260875Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:39.262875Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "7440c498-bfc0-4bce-8d5c-33b96dda30bd"}
{"timestamp": "2026-01-10T05:17:39.262875Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T05:17:39.263876Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "7440c498-bfc0-4bce-8d5c-33b96dda30bd"}
{"timestamp": "2026-01-10T05:17:39.264876Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:39.267875Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "6372e3c2-487f-4c6c-8053-569bd548775e"}
{"timestamp": "2026-01-10T05:17:39.298131Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('8b37dcae-da00-4e6f-af98-8f428d49dcd8', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('8b37dcae-da00-4e6f-af98-8f428d49dcd8', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:17:39.326131Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('8b37dcae-da00-4e6f-af98-8f428d49dcd8', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:39.326131Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "6372e3c2-487f-4c6c-8053-569bd548775e"}
{"timestamp": "2026-01-10T05:17:39.328132Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:40.490572Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "36bcbdd7-2c9c-4f7b-a573-70575c1926d4"}
{"timestamp": "2026-01-10T05:17:40.506572Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('bc36f3c7-5d27-4728-8a79-2cb128bf8c8f', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('bc36f3c7-5d27-4728-8a79-2cb128bf8c8f', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:17:40.532576Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('bc36f3c7-5d27-4728-8a79-2cb128bf8c8f', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:40.533572Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "36bcbdd7-2c9c-4f7b-a573-70575c1926d4"}
{"timestamp": "2026-01-10T05:17:40.534573Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:40.553572Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3e46530c-c250-4c78-9c9b-a6aa99807144"}
{"timestamp": "2026-01-10T05:17:40.568572Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f4ae0fe4-1209-44fb-b996-4b678a99eb7c', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f4ae0fe4-1209-44fb-b996-4b678a99eb7c', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:17:40.594571Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('f4ae0fe4-1209-44fb-b996-4b678a99eb7c', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:40.595574Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3e46530c-c250-4c78-9c9b-a6aa99807144"}
{"timestamp": "2026-01-10T05:17:40.596573Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:40.613575Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "57d3589e-26b0-4e5c-b71a-ead8ddcbcdef"}
{"timestamp": "2026-01-10T05:17:40.614572Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:40.615572Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "57d3589e-26b0-4e5c-b71a-ead8ddcbcdef"}
{"timestamp": "2026-01-10T05:17:40.616572Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:40.618575Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "52906372-edc7-4a81-942c-ce71e181ec26"}
{"timestamp": "2026-01-10T05:17:40.634573Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('362fe828-81e4-4598-9364-c6e039c264b2', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('362fe828-81e4-4598-9364-c6e039c264b2', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:17:40.661572Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('362fe828-81e4-4598-9364-c6e039c264b2', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:40.661572Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "52906372-edc7-4a81-942c-ce71e181ec26"}
{"timestamp": "2026-01-10T05:17:40.662571Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:40.665573Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "6366c204-8bbd-4b99-b94f-4812136ff5f4"}
{"timestamp": "2026-01-10T05:17:40.670572Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:17:40.671572Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:40.671572Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "6366c204-8bbd-4b99-b94f-4812136ff5f4"}
{"timestamp": "2026-01-10T05:17:40.673572Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:40.692571Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ff3f52b7-31cf-467f-8f60-84b884cdb5bb"}
{"timestamp": "2026-01-10T05:17:40.694572Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:17:40.695571Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:40.695571Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ff3f52b7-31cf-467f-8f60-84b884cdb5bb"}
{"timestamp": "2026-01-10T05:17:40.696572Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:40.714572Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "66c53ecb-237b-4b5e-938b-24759db591d1"}
{"timestamp": "2026-01-10T05:17:40.717571Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:17:40.718572Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:40.719575Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "66c53ecb-237b-4b5e-938b-24759db591d1"}
{"timestamp": "2026-01-10T05:17:40.720572Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:40.737573Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "20bfca77-056a-460f-8aac-89461e6dbfb3"}
{"timestamp": "2026-01-10T05:17:40.739574Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T05:17:40.740573Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:40.741572Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "20bfca77-056a-460f-8aac-89461e6dbfb3"}
{"timestamp": "2026-01-10T05:17:40.742573Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:40.760571Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "aa530eba-7e60-4b40-b347-b3d6f7531bc6"}
{"timestamp": "2026-01-10T05:17:40.775571Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4959964a-129d-4420-89b0-2ef3a30f9a36', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4959964a-129d-4420-89b0-2ef3a30f9a36', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:17:40.802574Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4959964a-129d-4420-89b0-2ef3a30f9a36', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:40.803571Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "aa530eba-7e60-4b40-b347-b3d6f7531bc6"}
{"timestamp": "2026-01-10T05:17:40.804572Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:40.821572Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "9c085267-a5cf-450d-a6db-a853210241cf"}
{"timestamp": "2026-01-10T05:17:40.837572Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('2e8e12bf-3ba0-4313-9e2b-997a7a523e2e', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('2e8e12bf-3ba0-4313-9e2b-997a7a523e2e', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:17:40.863572Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('2e8e12bf-3ba0-4313-9e2b-997a7a523e2e', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:40.864574Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "9c085267-a5cf-450d-a6db-a853210241cf"}
{"timestamp": "2026-01-10T05:17:40.866573Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:17:40.883571Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "0068644f-b497-42da-83a5-cb4a0466221d"}
{"timestamp": "2026-01-10T05:17:40.898570Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('51c758e1-0f7c-4a91-8586-369f074ad1b2', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('51c758e1-0f7c-4a91-8586-369f074ad1b2', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:17:40.925571Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('51c758e1-0f7c-4a91-8586-369f074ad1b2', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:17:40.925571Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "0068644f-b497-42da-83a5-cb4a0466221d"}
{"timestamp": "2026-01-10T05:17:40.926573Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:22.709762Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T05:18:23.274107Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8c2724b9-5b0a-4a4c-a715-8b4aee64cb82"}
{"timestamp": "2026-01-10T05:18:23.275107Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8c2724b9-5b0a-4a4c-a715-8b4aee64cb82"}
{"timestamp": "2026-01-10T05:18:23.277108Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:23.279108Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "69d2f266-6246-41cc-a46d-0057d87528d2"}
{"timestamp": "2026-01-10T05:18:23.279108Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "69d2f266-6246-41cc-a46d-0057d87528d2"}
{"timestamp": "2026-01-10T05:18:23.281108Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:23.283108Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "67758afa-0aaa-4723-a9c7-7ef2790bd0c7"}
{"timestamp": "2026-01-10T05:18:23.284106Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "67758afa-0aaa-4723-a9c7-7ef2790bd0c7"}
{"timestamp": "2026-01-10T05:18:23.285108Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:23.287106Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "9a5557e7-6f60-4e7d-8a7e-c94184905d86"}
{"timestamp": "2026-01-10T05:18:23.288106Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "9a5557e7-6f60-4e7d-8a7e-c94184905d86"}
{"timestamp": "2026-01-10T05:18:23.289106Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:23.292110Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8473d194-18eb-41f8-a001-0e8c396d94e5"}
{"timestamp": "2026-01-10T05:18:23.293106Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8473d194-18eb-41f8-a001-0e8c396d94e5"}
{"timestamp": "2026-01-10T05:18:23.294108Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:23.296106Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ee351067-afee-4e55-b572-0aec0185a58a"}
{"timestamp": "2026-01-10T05:18:23.296106Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ee351067-afee-4e55-b572-0aec0185a58a"}
{"timestamp": "2026-01-10T05:18:23.298106Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:23.299108Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "64c784ec-6d62-410f-ac0a-a956880ad019"}
{"timestamp": "2026-01-10T05:18:23.306105Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "64c784ec-6d62-410f-ac0a-a956880ad019"}
{"timestamp": "2026-01-10T05:18:23.307107Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:23.310107Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ab22836d-8646-4ede-bb74-acc536be860b"}
{"timestamp": "2026-01-10T05:18:23.487795Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:18:23.487795Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ab22836d-8646-4ede-bb74-acc536be860b"}
{"timestamp": "2026-01-10T05:18:23.488793Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:23.491793Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e4d7c18a-2916-4497-b7e9-aea99cd31f53"}
{"timestamp": "2026-01-10T05:18:23.654790Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:18:23.655792Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e4d7c18a-2916-4497-b7e9-aea99cd31f53"}
{"timestamp": "2026-01-10T05:18:23.656793Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:23.658792Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b7663d6d-3582-4f96-bbf9-d55dd2b76310"}
{"timestamp": "2026-01-10T05:18:23.658792Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b7663d6d-3582-4f96-bbf9-d55dd2b76310"}
{"timestamp": "2026-01-10T05:18:23.660794Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:23.662794Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "9325184e-407f-47ad-8097-37640b37e71f"}
{"timestamp": "2026-01-10T05:18:23.833792Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:18:23.834792Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "9325184e-407f-47ad-8097-37640b37e71f"}
{"timestamp": "2026-01-10T05:18:23.835793Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:23.837792Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "299d7876-4c2e-4f85-8a0c-4fda6a6e4b66"}
{"timestamp": "2026-01-10T05:18:24.002322Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "299d7876-4c2e-4f85-8a0c-4fda6a6e4b66"}
{"timestamp": "2026-01-10T05:18:24.003322Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:24.006324Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "bdc5ecdd-f1dc-4d4d-a1f3-25b42cd376c1"}
{"timestamp": "2026-01-10T05:18:24.007325Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "bdc5ecdd-f1dc-4d4d-a1f3-25b42cd376c1"}
{"timestamp": "2026-01-10T05:18:24.008323Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:24.011325Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "5a0670a4-ea7d-442a-9dfa-000dc6ed7a37"}
{"timestamp": "2026-01-10T05:18:24.174325Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:18:24.175324Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "5a0670a4-ea7d-442a-9dfa-000dc6ed7a37"}
{"timestamp": "2026-01-10T05:18:24.176325Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:24.178327Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f061c03b-7edd-4986-ac26-8a5500da5828"}
{"timestamp": "2026-01-10T05:18:24.178327Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f061c03b-7edd-4986-ac26-8a5500da5828"}
{"timestamp": "2026-01-10T05:18:24.179327Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:24.182326Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "53c45d5c-9db1-4c6b-bedf-a509f72a4d4c"}
{"timestamp": "2026-01-10T05:18:24.182326Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "53c45d5c-9db1-4c6b-bedf-a509f72a4d4c"}
{"timestamp": "2026-01-10T05:18:24.184323Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:24.186326Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "67b066f8-c29f-4ec7-8c19-de802041227d"}
{"timestamp": "2026-01-10T05:18:24.186326Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T05:18:24.187323Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "67b066f8-c29f-4ec7-8c19-de802041227d"}
{"timestamp": "2026-01-10T05:18:24.188323Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:24.190326Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "62c57ad1-6b16-4bd4-9b36-aae3ed6d0afe"}
{"timestamp": "2026-01-10T05:18:24.353381Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:18:24.354384Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "62c57ad1-6b16-4bd4-9b36-aae3ed6d0afe"}
{"timestamp": "2026-01-10T05:18:24.355384Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:24.356386Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "16b300b5-0fca-4533-ac3e-3f10f434cb60"}
{"timestamp": "2026-01-10T05:18:24.357384Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T05:18:24.357384Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "16b300b5-0fca-4533-ac3e-3f10f434cb60"}
{"timestamp": "2026-01-10T05:18:24.359387Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:24.361387Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d200a06f-d582-492c-9fd7-5e56c0cc3fe7"}
{"timestamp": "2026-01-10T05:18:24.392382Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('6f66f119-27b1-47a8-8c40-f3928e4281e2', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('6f66f119-27b1-47a8-8c40-f3928e4281e2', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:18:24.419384Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('6f66f119-27b1-47a8-8c40-f3928e4281e2', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:24.420381Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d200a06f-d582-492c-9fd7-5e56c0cc3fe7"}
{"timestamp": "2026-01-10T05:18:24.421381Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:25.586027Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d01bd46c-808e-4c47-a42a-226cbfc7a28d"}
{"timestamp": "2026-01-10T05:18:25.602026Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('efd02c7e-b45f-4538-95b3-ab23355671fa', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('efd02c7e-b45f-4538-95b3-ab23355671fa', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:18:25.628028Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('efd02c7e-b45f-4538-95b3-ab23355671fa', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:25.629027Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d01bd46c-808e-4c47-a42a-226cbfc7a28d"}
{"timestamp": "2026-01-10T05:18:25.630029Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:25.648027Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d47b149a-8edc-4d9f-95a8-bfabb227b31d"}
{"timestamp": "2026-01-10T05:18:25.664026Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('93808d7f-4823-4b6e-b17c-4c7b26a2fc1c', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('93808d7f-4823-4b6e-b17c-4c7b26a2fc1c', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:18:25.691028Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('93808d7f-4823-4b6e-b17c-4c7b26a2fc1c', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:25.691028Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d47b149a-8edc-4d9f-95a8-bfabb227b31d"}
{"timestamp": "2026-01-10T05:18:25.692027Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:25.709026Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "4bb47e40-864e-43eb-a4ea-c9f49364cb35"}
{"timestamp": "2026-01-10T05:18:25.710027Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:25.710027Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "4bb47e40-864e-43eb-a4ea-c9f49364cb35"}
{"timestamp": "2026-01-10T05:18:25.711027Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:25.714027Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "75dfec1d-d2ec-4fbc-9189-cbffd5c98d46"}
{"timestamp": "2026-01-10T05:18:25.730027Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('a3dc8fd0-03be-4643-a18f-8d5c13bc0603', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('a3dc8fd0-03be-4643-a18f-8d5c13bc0603', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:18:25.758027Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('a3dc8fd0-03be-4643-a18f-8d5c13bc0603', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:25.759027Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "75dfec1d-d2ec-4fbc-9189-cbffd5c98d46"}
{"timestamp": "2026-01-10T05:18:25.760027Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:25.762029Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b1740dd4-389a-480a-b9fc-578cb7e8c66b"}
{"timestamp": "2026-01-10T05:18:25.767026Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:18:25.768027Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:25.769026Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b1740dd4-389a-480a-b9fc-578cb7e8c66b"}
{"timestamp": "2026-01-10T05:18:25.770027Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:25.788026Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d9a5d201-bac0-4c70-a8df-de5ffe15e147"}
{"timestamp": "2026-01-10T05:18:25.790030Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:18:25.791027Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:25.792027Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d9a5d201-bac0-4c70-a8df-de5ffe15e147"}
{"timestamp": "2026-01-10T05:18:25.793030Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:25.811030Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "912e8d1d-6439-425f-a5f8-ad44a46c2364"}
{"timestamp": "2026-01-10T05:18:25.814028Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:18:25.815028Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:25.816027Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "912e8d1d-6439-425f-a5f8-ad44a46c2364"}
{"timestamp": "2026-01-10T05:18:25.817027Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:25.834026Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c19d4f94-6250-4abb-a40d-f943c4794dfc"}
{"timestamp": "2026-01-10T05:18:25.836028Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T05:18:25.837027Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:25.838030Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c19d4f94-6250-4abb-a40d-f943c4794dfc"}
{"timestamp": "2026-01-10T05:18:25.839028Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:25.855027Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "1e0634c4-43dd-42e0-b242-afd916c6392a"}
{"timestamp": "2026-01-10T05:18:25.871027Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('b0ce0577-fffe-491f-9b00-6b8ddcffcdb4', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('b0ce0577-fffe-491f-9b00-6b8ddcffcdb4', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:18:25.897027Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('b0ce0577-fffe-491f-9b00-6b8ddcffcdb4', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:25.898029Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "1e0634c4-43dd-42e0-b242-afd916c6392a"}
{"timestamp": "2026-01-10T05:18:25.899026Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:25.916026Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "f0e259c8-9a0d-4d5b-9abb-bbf014a94111"}
{"timestamp": "2026-01-10T05:18:25.931027Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('d282990a-6bf8-4f2f-a950-ef24c36a9a3b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('d282990a-6bf8-4f2f-a950-ef24c36a9a3b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:18:25.958026Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('d282990a-6bf8-4f2f-a950-ef24c36a9a3b', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:25.959026Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "f0e259c8-9a0d-4d5b-9abb-bbf014a94111"}
{"timestamp": "2026-01-10T05:18:25.960028Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:18:25.977026Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3a4ba4fc-3b6a-4791-9d37-211f6b962ad5"}
{"timestamp": "2026-01-10T05:18:25.992028Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('a17ea89b-55c8-418b-8a4a-a21a814607a5', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('a17ea89b-55c8-418b-8a4a-a21a814607a5', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:18:26.019509Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('a17ea89b-55c8-418b-8a4a-a21a814607a5', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:18:26.020517Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3a4ba4fc-3b6a-4791-9d37-211f6b962ad5"}
{"timestamp": "2026-01-10T05:18:26.021515Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:30.657766Z", "level": "INFO", "logger": "root", "message": "Logging configured: level=INFO, debug=False", "module": "logger", "function": "setup_logging", "line": 120}
{"timestamp": "2026-01-10T05:19:31.312768Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "dcc0cc0f-535e-41d3-85b5-ef386c416067"}
{"timestamp": "2026-01-10T05:19:31.312768Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "dcc0cc0f-535e-41d3-85b5-ef386c416067"}
{"timestamp": "2026-01-10T05:19:31.361177Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:31.364179Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "92fcd93c-f303-41b3-b6c4-00d17384eb52"}
{"timestamp": "2026-01-10T05:19:31.365180Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "92fcd93c-f303-41b3-b6c4-00d17384eb52"}
{"timestamp": "2026-01-10T05:19:31.367180Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:31.370176Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "c3ba64b6-f15e-4d88-b026-ca6bb1a9c140"}
{"timestamp": "2026-01-10T05:19:31.370176Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "c3ba64b6-f15e-4d88-b026-ca6bb1a9c140"}
{"timestamp": "2026-01-10T05:19:31.372178Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:31.375180Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "fd042000-5df9-4b29-88e0-e1c3946a9b5b"}
{"timestamp": "2026-01-10T05:19:31.376176Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "fd042000-5df9-4b29-88e0-e1c3946a9b5b"}
{"timestamp": "2026-01-10T05:19:31.377175Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/yahoo \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:31.380176Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "fb3845e4-f34b-4d9a-887d-57910c35208b"}
{"timestamp": "2026-01-10T05:19:31.380176Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "fb3845e4-f34b-4d9a-887d-57910c35208b"}
{"timestamp": "2026-01-10T05:19:31.382178Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/crawlers/nonexistent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:31.385176Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8d47d7fe-08e3-4b37-b046-b460ef2629b4"}
{"timestamp": "2026-01-10T05:19:31.386176Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8d47d7fe-08e3-4b37-b046-b460ef2629b4"}
{"timestamp": "2026-01-10T05:19:31.387175Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/docs \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:31.389178Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "fe630802-5e94-4ecc-bc0e-01190ebaee66"}
{"timestamp": "2026-01-10T05:19:31.397178Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "fe630802-5e94-4ecc-bc0e-01190ebaee66"}
{"timestamp": "2026-01-10T05:19:31.398177Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/openapi.json \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:31.401178Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "fdcf84b6-99eb-44e6-be93-eb66eff317d0"}
{"timestamp": "2026-01-10T05:19:31.583779Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: testuser", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:19:31.583779Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "fdcf84b6-99eb-44e6-be93-eb66eff317d0"}
{"timestamp": "2026-01-10T05:19:31.585780Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:31.588779Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "7983f549-d4d3-461f-ad3f-f63566ef94f4"}
{"timestamp": "2026-01-10T05:19:31.756822Z", "level": "INFO", "logger": "backend.routers.auth", "message": "New user registered: duplicate", "module": "auth", "function": "register", "line": 117}
{"timestamp": "2026-01-10T05:19:31.756822Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "7983f549-d4d3-461f-ad3f-f63566ef94f4"}
{"timestamp": "2026-01-10T05:19:31.759278Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:31.760720Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "55414e64-704e-4ed3-a875-ced9d66f602a"}
{"timestamp": "2026-01-10T05:19:31.761725Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "55414e64-704e-4ed3-a875-ced9d66f602a"}
{"timestamp": "2026-01-10T05:19:31.762723Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/register \"HTTP/1.1 400 Bad Request\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:31.765724Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "9f941148-40df-4cd6-b290-a79fe594f098"}
{"timestamp": "2026-01-10T05:19:31.941727Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:19:31.942724Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "9f941148-40df-4cd6-b290-a79fe594f098"}
{"timestamp": "2026-01-10T05:19:31.943724Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:31.946725Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "791cc3b2-ea58-4bce-b615-c1917e9eb002"}
{"timestamp": "2026-01-10T05:19:32.113085Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "791cc3b2-ea58-4bce-b615-c1917e9eb002"}
{"timestamp": "2026-01-10T05:19:32.115086Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:32.118086Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8c18f1ea-d40c-4d73-8d15-6fa073e21193"}
{"timestamp": "2026-01-10T05:19:32.120090Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8c18f1ea-d40c-4d73-8d15-6fa073e21193"}
{"timestamp": "2026-01-10T05:19:32.121086Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:32.124085Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d73774ec-9524-4a28-89da-65af7a87c0a6"}
{"timestamp": "2026-01-10T05:19:32.292085Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:19:32.293086Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d73774ec-9524-4a28-89da-65af7a87c0a6"}
{"timestamp": "2026-01-10T05:19:32.294085Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:32.296085Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "8a74ded7-b4b9-47e5-bd48-b99fab364842"}
{"timestamp": "2026-01-10T05:19:32.297087Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "8a74ded7-b4b9-47e5-bd48-b99fab364842"}
{"timestamp": "2026-01-10T05:19:32.299087Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:32.302085Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "3764451d-8a2e-4046-aa58-f35f0159515c"}
{"timestamp": "2026-01-10T05:19:32.302085Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "3764451d-8a2e-4046-aa58-f35f0159515c"}
{"timestamp": "2026-01-10T05:19:32.304086Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 403 Forbidden\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:32.307085Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "e9d7a70b-9981-4e9c-bbad-c0d5e0c47b5d"}
{"timestamp": "2026-01-10T05:19:32.307085Z", "level": "WARNING", "logger": "backend.dependencies", "message": "JWT validation failed: Not enough segments", "module": "dependencies", "function": "get_current_user", "line": 58}
{"timestamp": "2026-01-10T05:19:32.308085Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "e9d7a70b-9981-4e9c-bbad-c0d5e0c47b5d"}
{"timestamp": "2026-01-10T05:19:32.309085Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 401 Unauthorized\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:32.312087Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "af2a3c45-37f4-4f7b-bde4-6d917908a1ff"}
{"timestamp": "2026-01-10T05:19:32.482085Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged in: admin", "module": "auth", "function": "login", "line": 162}
{"timestamp": "2026-01-10T05:19:32.482085Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "af2a3c45-37f4-4f7b-bde4-6d917908a1ff"}
{"timestamp": "2026-01-10T05:19:32.483085Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/login \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:32.486084Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "fcb636f0-1b57-475d-848e-b46b4c5f88bb"}
{"timestamp": "2026-01-10T05:19:32.486084Z", "level": "INFO", "logger": "backend.routers.auth", "message": "User logged out: admin", "module": "auth", "function": "logout", "line": 217}
{"timestamp": "2026-01-10T05:19:32.487085Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "fcb636f0-1b57-475d-848e-b46b4c5f88bb"}
{"timestamp": "2026-01-10T05:19:32.488087Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/auth/logout \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:32.491085Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "b151d049-b033-4ee1-b82f-02c3c471e91a"}
{"timestamp": "2026-01-10T05:19:32.534952Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('ad38f8df-7abf-4213-b205-b7633b3eebe8', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('ad38f8df-7abf-4213-b205-b7633b3eebe8', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:19:32.567952Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('ad38f8df-7abf-4213-b205-b7633b3eebe8', 'yahoo', 'pending', 0, '{\"symbol\": \"AAPL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:32.568953Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "b151d049-b033-4ee1-b82f-02c3c471e91a"}
{"timestamp": "2026-01-10T05:19:32.569952Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:33.970248Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "d95b6f36-9117-4b6c-aacd-d705d0c7a9b4"}
{"timestamp": "2026-01-10T05:19:33.988247Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4988b3af-a1df-4710-9a78-7af1b5c510cb', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4988b3af-a1df-4710-9a78-7af1b5c510cb', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:19:34.021252Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('4988b3af-a1df-4710-9a78-7af1b5c510cb', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:34.022248Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "d95b6f36-9117-4b6c-aacd-d705d0c7a9b4"}
{"timestamp": "2026-01-10T05:19:34.024247Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:34.047248Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "726a3cec-b86d-420f-9100-ee79aac49982"}
{"timestamp": "2026-01-10T05:19:34.067247Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler jobs: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('ffa4a7e0-fb4b-4331-a022-ccc464ae27d4', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('ffa4a7e0-fb4b-4331-a022-ccc464ae27d4', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:19:34.098294Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('ffa4a7e0-fb4b-4331-a022-ccc464ae27d4', 'jobs', 'pending', 0, '{\"search\": \"python\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:34.099295Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "726a3cec-b86d-420f-9100-ee79aac49982"}
{"timestamp": "2026-01-10T05:19:34.100295Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/jobs/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:34.120298Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "fe2b615f-ae5f-4170-8d4c-cc3fb21d2f95"}
{"timestamp": "2026-01-10T05:19:34.121756Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 404: Crawler 'invalid' not found", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:34.121756Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "fe2b615f-ae5f-4170-8d4c-cc3fb21d2f95"}
{"timestamp": "2026-01-10T05:19:34.122760Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/invalid/run \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:34.126287Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "80e90d40-813d-4439-a2c0-e286fd669c08"}
{"timestamp": "2026-01-10T05:19:34.144810Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('a0351eaf-58f8-4806-bf9c-5dbb57e4b50e', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('a0351eaf-58f8-4806-bf9c-5dbb57e4b50e', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:19:34.177809Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('a0351eaf-58f8-4806-bf9c-5dbb57e4b50e', 'yahoo', 'pending', 0, None, None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:34.178809Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "80e90d40-813d-4439-a2c0-e286fd669c08"}
{"timestamp": "2026-01-10T05:19:34.179810Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:34.183808Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "abd2e71c-d834-477d-8ae0-10a6b8a60269"}
{"timestamp": "2026-01-10T05:19:34.188809Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:19:34.189809Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:34.190811Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "abd2e71c-d834-477d-8ae0-10a6b8a60269"}
{"timestamp": "2026-01-10T05:19:34.191810Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:34.215809Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "641c032b-0b94-4a53-9c75-b28f0623f729"}
{"timestamp": "2026-01-10T05:19:34.216814Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: (10, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:19:34.218809Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:34.219809Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "641c032b-0b94-4a53-9c75-b28f0623f729"}
{"timestamp": "2026-01-10T05:19:34.220808Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?page=1&page_size=10 \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:34.239808Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "4f1baa7f-9d30-4707-aae6-17d76dda03f2"}
{"timestamp": "2026-01-10T05:19:34.243808Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error listing tasks: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.status = ? ORDER BY tasks.created_at DESC\n LIMIT ? OFFSET ?]\n[parameters: ('completed', 20, 0)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "list_tasks", "line": 139}
{"timestamp": "2026-01-10T05:19:34.244809Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to list tasks", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:34.245812Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "4f1baa7f-9d30-4707-aae6-17d76dda03f2"}
{"timestamp": "2026-01-10T05:19:34.246808Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks?status=completed \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:34.270809Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "ca0db9ce-77cd-4997-9bf4-647c072142c7"}
{"timestamp": "2026-01-10T05:19:34.273809Z", "level": "ERROR", "logger": "backend.routers.tasks", "message": "Error getting task nonexistent-task-id: (sqlite3.OperationalError) no such table: tasks\n[SQL: SELECT tasks.id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.user_id \nFROM tasks \nWHERE tasks.id = ?]\n[parameters: ('nonexistent-task-id',)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "tasks", "function": "get_task", "line": 63}
{"timestamp": "2026-01-10T05:19:34.274810Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to get task", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:34.275808Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "ca0db9ce-77cd-4997-9bf4-647c072142c7"}
{"timestamp": "2026-01-10T05:19:34.277808Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/api/tasks/nonexistent-task-id \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:34.304809Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "76bd5a2f-3367-4aac-a0ca-6339243abf5d"}
{"timestamp": "2026-01-10T05:19:34.326807Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('5a4a0014-81d6-49f3-a1d9-90e12889e96c', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('5a4a0014-81d6-49f3-a1d9-90e12889e96c', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:19:34.367353Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('5a4a0014-81d6-49f3-a1d9-90e12889e96c', 'yahoo', 'pending', 0, '{\"symbol\": \"MSFT\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:34.368352Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "76bd5a2f-3367-4aac-a0ca-6339243abf5d"}
{"timestamp": "2026-01-10T05:19:34.370355Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:34.391354Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "6bd33c3a-6e06-48cd-82ee-dad5f104cc13"}
{"timestamp": "2026-01-10T05:19:34.410354Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler movies: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('6f36dee1-5172-4915-b2ae-da7ac1ed5f4a', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('6f36dee1-5172-4915-b2ae-da7ac1ed5f4a', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:19:34.440352Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('6f36dee1-5172-4915-b2ae-da7ac1ed5f4a', 'movies', 'pending', 0, '{\"max_pages\": 1}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:34.441355Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "6bd33c3a-6e06-48cd-82ee-dad5f104cc13"}
{"timestamp": "2026-01-10T05:19:34.442355Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/movies/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
{"timestamp": "2026-01-10T05:19:34.461353Z", "level": "INFO", "logger": "backend.middleware", "message": "Request started", "module": "middleware", "function": "dispatch", "line": 37, "request_id": "59e1aab1-93ef-4978-a55f-04c7dcfa3b9a"}
{"timestamp": "2026-01-10T05:19:34.479353Z", "level": "ERROR", "logger": "backend.routers.crawlers", "message": "Error starting crawler yahoo: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('91f12c45-7496-472b-ab4e-1ebe2a035b01', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "crawlers", "function": "run_crawler", "line": 129, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlite3.OperationalError: no such table: tasks\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\routers\\crawlers.py\", line 98, in run_crawler\n    task = await task_crud.create(db, task_create)\n  File \"A:\\workspace\\To-do\\Crawler_Practice\\backend\\crud\\task.py\", line 34, in create\n    await db.commit()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 202, in greenlet_spawn\n    result = context.switch(value)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1969, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1256, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 1231, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1227, in _emit_insert_statements\n    result = connection.execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1416, in execute\n    return meth(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\sql\\elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\engine\\default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 146, in execute\n    self._adapt_connection._handle_exception(error)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 298, in _handle_exception\n    raise error\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py\", line 128, in execute\n    self.await_(_cursor.execute(operation, parameters))\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 130, in await_only\n    return current.driver.switch(awaitable)  # type: ignore[no-any-return]\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 195, in greenlet_spawn\n    value = await result\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 48, in execute\n    await self._execute(self._cursor.execute, sql, parameters)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\cursor.py\", line 40, in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 133, in _execute\n    return await future\n  File \"C:\\Users\\Alex Zhai\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\site-packages\\aiosqlite\\core.py\", line 106, in run\n    result = function()\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('91f12c45-7496-472b-ab4e-1ebe2a035b01', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"timestamp": "2026-01-10T05:19:34.512353Z", "level": "ERROR", "logger": "backend.database", "message": "Database session error: 500: Failed to start crawler: (sqlite3.OperationalError) no such table: tasks\n[SQL: INSERT INTO tasks (id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at]\n[parameters: ('91f12c45-7496-472b-ab4e-1ebe2a035b01', 'yahoo', 'pending', 0, '{\"symbol\": \"GOOGL\"}', None, None, None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "get_db", "line": 64}
{"timestamp": "2026-01-10T05:19:34.513355Z", "level": "INFO", "logger": "backend.middleware", "message": "Request completed", "module": "middleware", "function": "dispatch", "line": 60, "request_id": "59e1aab1-93ef-4978-a55f-04c7dcfa3b9a"}
{"timestamp": "2026-01-10T05:19:34.514353Z", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://testserver/api/crawlers/yahoo/run \"HTTP/1.1 500 Internal Server Error\"", "module": "_client", "function": "_send_single_request", "line": 1027}
[2026-01-16 10:23:06] INFO     [root] Logging configured: level=INFO, debug=True
[2026-01-16 10:23:06] INFO     [backend.main] Starting Crawler Management API v1.0.0
[2026-01-16 10:23:06] INFO     [backend.main] Initializing database...
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("users")
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("tasks")
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:06] INFO     [backend.database] Database initialized successfully
[2026-01-16 10:23:06] INFO     [backend.main] Database initialized successfully
[2026-01-16 10:23:06] INFO     [backend.middleware] Request started
[2026-01-16 10:23:06] INFO     [backend.middleware] Request started
[2026-01-16 10:23:06] INFO     [backend.middleware] Request started
[2026-01-16 10:23:06] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [generated in 0.00068s] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [cached since 0.002673s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:06] INFO     [backend.middleware] Request started
[2026-01-16 10:23:06] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [cached since 0.007199s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.user_id = ? ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [generated in 0.00088s] ('d47c2def-ae38-4cbb-9756-da8b6df202df', 20, 0)
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM tasks 
WHERE tasks.user_id = ?
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [generated in 0.00064s] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:06] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:06] INFO     [backend.middleware] Request started
[2026-01-16 10:23:06] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [cached since 0.02553s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:06] INFO     [backend.middleware] Request started
[2026-01-16 10:23:06] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:06] INFO     [backend.middleware] Request started
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [cached since 0.03226s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:06] INFO     [backend.middleware] Request started
[2026-01-16 10:23:06] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [cached since 0.03615s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.user_id = ? ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [cached since 0.03068s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df', 20, 0)
[2026-01-16 10:23:06] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM tasks 
WHERE tasks.user_id = ?
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] [cached since 0.02892s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:06] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:06] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:06] INFO     [backend.middleware] Request started
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] [cached since 0.05413s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.user_id = ? ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] [cached since 0.0464s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df', 20, 0)
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM tasks 
WHERE tasks.user_id = ?
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] [cached since 0.04165s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:07] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:07] INFO     [backend.middleware] Request started
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] [cached since 0.06734s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.user_id = ? ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] [cached since 0.05952s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df', 20, 0)
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM tasks 
WHERE tasks.user_id = ?
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] [cached since 0.05512s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:07] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:07] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:15] INFO     [backend.middleware] Request started
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 8.64s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] INSERT INTO tasks (id, user_id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, retry_count) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [generated in 0.00075s] ('99686a58-22f7-42d6-97d1-a13300c70fa0', 'd47c2def-ae38-4cbb-9756-da8b6df202df', 'weibo', 'pending', 0, None, None, None, None, None, None, 0)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [generated in 0.00067s] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:15] INFO     [backend.routers.crawlers] Created task 99686a58-22f7-42d6-97d1-a13300c70fa0 for crawler weibo
[2026-01-16 10:23:15] INFO     [backend.routers.crawlers] Task 99686a58-22f7-42d6-97d1-a13300c70fa0 submitted to BackgroundTasks
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:15] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:15] INFO     [backend.routers.crawlers] Executing task 99686a58-22f7-42d6-97d1-a13300c70fa0: weibo
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [generated in 0.00067s] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET status=?, started_at=? WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [generated in 0.00060s] ('running', '2026-01-16 02:23:15.616870', '99686a58-22f7-42d6-97d1-a13300c70fa0')
[2026-01-16 10:23:15] INFO     [backend.middleware] Request started
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 8.677s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 0.02164s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 0.01548s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:15] INFO     [root] User-Agent switched to: Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20...
[2026-01-16 10:23:15] INFO     [backend.services.crawler_service] Starting crawler: weibo with params: {}
[2026-01-16 10:23:15] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  weibo ...
[2026-01-16 10:23:15] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 0.03215s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [generated in 0.00061s] (5, '99686a58-22f7-42d6-97d1-a13300c70fa0')
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 0.0505s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:23:15] INFO     [backend.crawlers.weibo] Starting Weibo crawler...
[2026-01-16 10:23:15] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  ( 1/3)...
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 0.04908s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 0.06205s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:23:15] ERROR    [asyncio] Task exception was never retrieved
future: <Task finished name='Task-163' coro=<Connection.run() done, defined at A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py:305> exception=NotImplementedError()>
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py", line 312, in run
    await self._transport.connect()
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 133, in connect
    raise exc
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 120, in connect
    self._proc = await asyncio.create_subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\subprocess.py", line 218, in create_subprocess_exec
    transport, protocol = await loop.subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 1681, in subprocess_exec
    transport = await self._make_subprocess_transport(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 498, in _make_subprocess_transport
    raise NotImplementedError
NotImplementedError
[2026-01-16 10:23:15] ERROR    [backend.crawlers.weibo] Attempt 1 failed: 
[2026-01-16 10:23:15] INFO     [backend.routers.crawlers] Progress callback triggered: 10% - 2...
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 0.06669s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 0.03524s ago] (10, '99686a58-22f7-42d6-97d1-a13300c70fa0')
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 0.08499s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:23:15] INFO     [backend.routers.websocket] WebSocket connected for task 99686a58-22f7-42d6-97d1-a13300c70fa0. Total: 1
[2026-01-16 10:23:15] INFO     [backend.middleware] Request started
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 9.022s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] [cached since 0.3576s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:15] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:15] INFO     [backend.middleware] Request completed
[2026-01-16 10:23:17] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  ( 2/3)...
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] [cached since 2.104s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] [cached since 2.072s ago] (5, '99686a58-22f7-42d6-97d1-a13300c70fa0')
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] [cached since 2.122s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:23:17] ERROR    [asyncio] Task exception was never retrieved
future: <Task finished name='Task-185' coro=<Connection.run() done, defined at A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py:305> exception=NotImplementedError()>
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py", line 312, in run
    await self._transport.connect()
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 133, in connect
    raise exc
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 120, in connect
    self._proc = await asyncio.create_subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\subprocess.py", line 218, in create_subprocess_exec
    transport, protocol = await loop.subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 1681, in subprocess_exec
    transport = await self._make_subprocess_transport(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 498, in _make_subprocess_transport
    raise NotImplementedError
NotImplementedError
[2026-01-16 10:23:17] ERROR    [backend.crawlers.weibo] Attempt 2 failed: 
[2026-01-16 10:23:17] INFO     [backend.routers.crawlers] Progress callback triggered: 10% - 4...
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] [cached since 2.124s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] [cached since 2.093s ago] (10, '99686a58-22f7-42d6-97d1-a13300c70fa0')
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] [cached since 2.142s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:17] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:23:21] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  ( 3/3)...
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] [cached since 6.131s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] [cached since 6.1s ago] (5, '99686a58-22f7-42d6-97d1-a13300c70fa0')
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] [cached since 6.156s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:23:21] ERROR    [asyncio] Task exception was never retrieved
future: <Task finished name='Task-188' coro=<Connection.run() done, defined at A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py:305> exception=NotImplementedError()>
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py", line 312, in run
    await self._transport.connect()
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 133, in connect
    raise exc
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 120, in connect
    self._proc = await asyncio.create_subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\subprocess.py", line 218, in create_subprocess_exec
    transport, protocol = await loop.subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 1681, in subprocess_exec
    transport = await self._make_subprocess_transport(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 498, in _make_subprocess_transport
    raise NotImplementedError
NotImplementedError
[2026-01-16 10:23:21] ERROR    [backend.crawlers.weibo] Attempt 3 failed: 
[2026-01-16 10:23:21] INFO     [backend.routers.crawlers] Progress callback triggered: 90% - : 
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] [cached since 6.156s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] [cached since 6.124s ago] (90, '99686a58-22f7-42d6-97d1-a13300c70fa0')
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] [cached since 6.173s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:23:21] ERROR    [backend.services.crawler_service] Error running crawler weibo: No items found after retries
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\backend\services\crawler_service.py", line 271, in run_crawler
    result = await crawler.run(progress_callback=progress_callback)
  File "A:\workspace\To-do\Crawler_Practice\backend\crawlers\weibo.py", line 151, in run
    raise Exception("No items found after retries")
Exception: No items found after retries
[2026-01-16 10:23:21] ERROR    [backend.routers.crawlers] Task 99686a58-22f7-42d6-97d1-a13300c70fa0 failed: No items found after retries
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\backend\routers\crawlers.py", line 195, in execute_crawler_task
    result = await crawler_service.run_crawler(
  File "A:\workspace\To-do\Crawler_Practice\backend\services\crawler_service.py", line 271, in run_crawler
    result = await crawler.run(progress_callback=progress_callback)
  File "A:\workspace\To-do\Crawler_Practice\backend\crawlers\weibo.py", line 151, in run
    raise Exception("No items found after retries")
Exception: No items found after retries
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] [cached since 6.18s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET status=?, error=?, completed_at=?, duration=? WHERE tasks.id = ?
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] [generated in 0.00054s] ('failed', 'No items found after retries', '2026-01-16 02:23:21.796209', 6.179339, '99686a58-22f7-42d6-97d1-a13300c70fa0')
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] [cached since 6.198s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:21] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:23:21] INFO     [backend.routers.websocket] WebSocket disconnected for task 99686a58-22f7-42d6-97d1-a13300c70fa0
[2026-01-16 10:23:21] INFO     [backend.routers.websocket] Client disconnected from task 99686a58-22f7-42d6-97d1-a13300c70fa0
[2026-01-16 10:23:25] INFO     [backend.routers.websocket] WebSocket connected for task 99686a58-22f7-42d6-97d1-a13300c70fa0. Total: 1
[2026-01-16 10:23:25] INFO     [backend.middleware] Request started
[2026-01-16 10:23:25] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:23:25] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:23:25] INFO     [sqlalchemy.engine.Engine] [cached since 18.72s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:23:25] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:23:25] INFO     [sqlalchemy.engine.Engine] [cached since 10.05s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:23:25] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:23:25] INFO     [backend.middleware] Request completed
[2026-01-16 10:25:34] INFO     [backend.middleware] Request started
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 147.7s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] INSERT INTO tasks (id, user_id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, retry_count) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0', 'd47c2def-ae38-4cbb-9756-da8b6df202df', 'weibo', 'pending', 0, None, None, None, None, None, None, 0)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:34] INFO     [backend.routers.crawlers] Created task 21dfc8d7-79a2-4a1e-836a-97be9e7be6f0 for crawler weibo
[2026-01-16 10:25:34] INFO     [backend.routers.crawlers] Task 21dfc8d7-79a2-4a1e-836a-97be9e7be6f0 submitted to BackgroundTasks
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:34] INFO     [backend.middleware] Request completed
[2026-01-16 10:25:34] INFO     [backend.routers.crawlers] Executing task 21dfc8d7-79a2-4a1e-836a-97be9e7be6f0: weibo
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET status=?, started_at=? WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] ('running', '2026-01-16 02:25:34.707422', '21dfc8d7-79a2-4a1e-836a-97be9e7be6f0')
[2026-01-16 10:25:34] INFO     [backend.middleware] Request started
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 147.8s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:34] INFO     [backend.routers.websocket] WebSocket disconnected for task 99686a58-22f7-42d6-97d1-a13300c70fa0
[2026-01-16 10:25:34] INFO     [backend.routers.websocket] Client disconnected from task 99686a58-22f7-42d6-97d1-a13300c70fa0
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:34] INFO     [root] User-Agent switched to: Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:109.0)...
[2026-01-16 10:25:34] INFO     [backend.services.crawler_service] Starting crawler: weibo with params: {}
[2026-01-16 10:25:34] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  weibo ...
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:34] INFO     [backend.middleware] Request completed
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] (5, '21dfc8d7-79a2-4a1e-836a-97be9e7be6f0')
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:25:34] INFO     [backend.crawlers.weibo] Starting Weibo crawler...
[2026-01-16 10:25:34] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  ( 1/3)...
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:25:34] ERROR    [asyncio] Task exception was never retrieved
future: <Task finished name='Task-239' coro=<Connection.run() done, defined at A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py:305> exception=NotImplementedError()>
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py", line 312, in run
    await self._transport.connect()
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 133, in connect
    raise exc
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 120, in connect
    self._proc = await asyncio.create_subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\subprocess.py", line 218, in create_subprocess_exec
    transport, protocol = await loop.subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 1681, in subprocess_exec
    transport = await self._make_subprocess_transport(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 498, in _make_subprocess_transport
    raise NotImplementedError
NotImplementedError
[2026-01-16 10:25:34] ERROR    [backend.crawlers.weibo] Attempt 1 failed: 
[2026-01-16 10:25:34] INFO     [backend.routers.crawlers] Progress callback triggered: 10% - 2...
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] (10, '21dfc8d7-79a2-4a1e-836a-97be9e7be6f0')
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] [cached since 139.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:34] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:25:36] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  ( 2/3)...
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] [cached since 141.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] [cached since 141.1s ago] (5, '21dfc8d7-79a2-4a1e-836a-97be9e7be6f0')
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] [cached since 141.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:25:36] ERROR    [asyncio] Task exception was never retrieved
future: <Task finished name='Task-242' coro=<Connection.run() done, defined at A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py:305> exception=NotImplementedError()>
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py", line 312, in run
    await self._transport.connect()
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 133, in connect
    raise exc
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 120, in connect
    self._proc = await asyncio.create_subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\subprocess.py", line 218, in create_subprocess_exec
    transport, protocol = await loop.subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 1681, in subprocess_exec
    transport = await self._make_subprocess_transport(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 498, in _make_subprocess_transport
    raise NotImplementedError
NotImplementedError
[2026-01-16 10:25:36] ERROR    [backend.crawlers.weibo] Attempt 2 failed: 
[2026-01-16 10:25:36] INFO     [backend.routers.crawlers] Progress callback triggered: 10% - 4...
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] [cached since 141.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] [cached since 141.2s ago] (10, '21dfc8d7-79a2-4a1e-836a-97be9e7be6f0')
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] [cached since 141.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:36] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:25:40] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  ( 3/3)...
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] [cached since 145.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] [cached since 145.2s ago] (5, '21dfc8d7-79a2-4a1e-836a-97be9e7be6f0')
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] [cached since 145.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:25:40] ERROR    [asyncio] Task exception was never retrieved
future: <Task finished name='Task-245' coro=<Connection.run() done, defined at A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py:305> exception=NotImplementedError()>
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_connection.py", line 312, in run
    await self._transport.connect()
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 133, in connect
    raise exc
  File "A:\workspace\To-do\Crawler_Practice\.venv\lib\site-packages\playwright\_impl\_transport.py", line 120, in connect
    self._proc = await asyncio.create_subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\subprocess.py", line 218, in create_subprocess_exec
    transport, protocol = await loop.subprocess_exec(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 1681, in subprocess_exec
    transport = await self._make_subprocess_transport(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 498, in _make_subprocess_transport
    raise NotImplementedError
NotImplementedError
[2026-01-16 10:25:40] ERROR    [backend.crawlers.weibo] Attempt 3 failed: 
[2026-01-16 10:25:40] INFO     [backend.routers.crawlers] Progress callback triggered: 90% - : 
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] [cached since 145.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] [cached since 145.2s ago] (90, '21dfc8d7-79a2-4a1e-836a-97be9e7be6f0')
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] [cached since 145.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:25:40] ERROR    [backend.services.crawler_service] Error running crawler weibo: No items found after retries
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\backend\services\crawler_service.py", line 271, in run_crawler
    result = await crawler.run(progress_callback=progress_callback)
  File "A:\workspace\To-do\Crawler_Practice\backend\crawlers\weibo.py", line 151, in run
    if progress_callback:
Exception: No items found after retries
[2026-01-16 10:25:40] ERROR    [backend.routers.crawlers] Task 21dfc8d7-79a2-4a1e-836a-97be9e7be6f0 failed: No items found after retries
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\backend\routers\crawlers.py", line 195, in execute_crawler_task
    result = await crawler_service.run_crawler(
  File "A:\workspace\To-do\Crawler_Practice\backend\services\crawler_service.py", line 271, in run_crawler
    result = await crawler.run(progress_callback=progress_callback)
  File "A:\workspace\To-do\Crawler_Practice\backend\crawlers\weibo.py", line 151, in run
    if progress_callback:
Exception: No items found after retries
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] [cached since 145.2s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET status=?, error=?, completed_at=?, duration=? WHERE tasks.id = ?
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] [cached since 139.1s ago] ('failed', 'No items found after retries', '2026-01-16 02:25:40.865133', 6.157711, '21dfc8d7-79a2-4a1e-836a-97be9e7be6f0')
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] [cached since 145.3s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:40] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:25:40] INFO     [backend.main] Shutting down application...
[2026-01-16 10:25:40] INFO     [backend.database] Database connection closed
[2026-01-16 10:25:40] INFO     [backend.main] Application shutdown complete
[2026-01-16 10:25:43] INFO     [root] Logging configured: level=INFO, debug=True
[2026-01-16 10:25:43] INFO     [backend.main] Starting Crawler Management API v1.0.0
[2026-01-16 10:25:43] INFO     [backend.main] Initializing database...
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("users")
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("tasks")
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:43] INFO     [backend.database] Database initialized successfully
[2026-01-16 10:25:43] INFO     [backend.main] Database initialized successfully
[2026-01-16 10:25:43] INFO     [backend.routers.websocket] WebSocket connected for task 21dfc8d7-79a2-4a1e-836a-97be9e7be6f0. Total: 1
[2026-01-16 10:25:43] INFO     [backend.middleware] Request started
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] [generated in 0.00075s] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] [generated in 0.00059s] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:43] INFO     [backend.routers.websocket] WebSocket connected for task 99686a58-22f7-42d6-97d1-a13300c70fa0. Total: 1
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:43] INFO     [backend.middleware] Request completed
[2026-01-16 10:25:43] INFO     [backend.middleware] Request started
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] [cached since 0.01386s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] [cached since 0.01273s ago] ('99686a58-22f7-42d6-97d1-a13300c70fa0',)
[2026-01-16 10:25:43] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:43] INFO     [backend.middleware] Request completed
[2026-01-16 10:25:46] INFO     [backend.routers.websocket] WebSocket connected for task 21dfc8d7-79a2-4a1e-836a-97be9e7be6f0. Total: 2
[2026-01-16 10:25:46] INFO     [backend.middleware] Request started
[2026-01-16 10:25:46] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:25:46] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:25:46] INFO     [sqlalchemy.engine.Engine] [cached since 3.584s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:25:46] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:25:46] INFO     [sqlalchemy.engine.Engine] [cached since 3.583s ago] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:25:46] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:25:46] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:19] INFO     [backend.routers.websocket] WebSocket disconnected for task 21dfc8d7-79a2-4a1e-836a-97be9e7be6f0
[2026-01-16 10:32:19] INFO     [backend.routers.websocket] Client disconnected from task 21dfc8d7-79a2-4a1e-836a-97be9e7be6f0
[2026-01-16 10:32:19] INFO     [backend.routers.websocket] WebSocket disconnected for task 99686a58-22f7-42d6-97d1-a13300c70fa0
[2026-01-16 10:32:19] INFO     [backend.routers.websocket] Client disconnected from task 99686a58-22f7-42d6-97d1-a13300c70fa0
[2026-01-16 10:32:19] INFO     [backend.routers.websocket] WebSocket disconnected for task 21dfc8d7-79a2-4a1e-836a-97be9e7be6f0
[2026-01-16 10:32:19] INFO     [backend.routers.websocket] Client disconnected from task 21dfc8d7-79a2-4a1e-836a-97be9e7be6f0
[2026-01-16 10:32:20] INFO     [backend.main] Shutting down application...
[2026-01-16 10:32:20] INFO     [backend.database] Database connection closed
[2026-01-16 10:32:20] INFO     [backend.main] Application shutdown complete
[2026-01-16 10:32:22] INFO     [root] Logging configured: level=INFO, debug=True
[2026-01-16 10:32:22] INFO     [backend.main] Starting Crawler Management API v1.0.0
[2026-01-16 10:32:22] INFO     [backend.main] Initializing database...
[2026-01-16 10:32:22] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:22] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("users")
[2026-01-16 10:32:22] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:32:22] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("tasks")
[2026-01-16 10:32:22] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:32:22] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:22] INFO     [backend.database] Database initialized successfully
[2026-01-16 10:32:22] INFO     [backend.main] Database initialized successfully
[2026-01-16 10:32:22] INFO     [backend.middleware] Request started
[2026-01-16 10:32:22] INFO     [backend.middleware] Request started
[2026-01-16 10:32:22] ERROR    [backend.database] Database session error: 403: Not authenticated
[2026-01-16 10:32:22] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:22] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:22] INFO     [backend.middleware] Request started
[2026-01-16 10:32:22] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:22] INFO     [backend.middleware] Request started
[2026-01-16 10:32:22] ERROR    [backend.database] Database session error: 403: Not authenticated
[2026-01-16 10:32:22] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:31] INFO     [backend.middleware] Request started
[2026-01-16 10:32:31] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:31] INFO     [sqlalchemy.engine.Engine] SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_admin, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = ?
[2026-01-16 10:32:31] INFO     [sqlalchemy.engine.Engine] [generated in 0.00108s] ('zxc',)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] UPDATE users SET updated_at=CURRENT_TIMESTAMP, last_login=? WHERE users.id = ?
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] [generated in 0.00121s] ('2026-01-16 02:32:32.098275', 'd47c2def-ae38-4cbb-9756-da8b6df202df')
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:32] INFO     [backend.routers.auth] User logged in: zxc
[2026-01-16 10:32:32] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:32] INFO     [backend.middleware] Request started
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] [generated in 0.00057s] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] [cached since 0.002952s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:32] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:32] INFO     [backend.middleware] Request started
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] [cached since 0.01133s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] [cached since 0.01394s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:32] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:32] INFO     [backend.middleware] Request started
[2026-01-16 10:32:32] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:32] INFO     [backend.middleware] Request started
[2026-01-16 10:32:32] INFO     [backend.middleware] Request started
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] [cached since 0.03833s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:32] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.user_id = ? ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] [generated in 0.00063s] ('d47c2def-ae38-4cbb-9756-da8b6df202df', 20, 0)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM tasks 
WHERE tasks.user_id = ?
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] [generated in 0.00063s] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:32] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:32] INFO     [backend.middleware] Request started
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] [cached since 0.05817s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.user_id = ? ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] [cached since 0.01723s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df', 20, 0)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM tasks 
WHERE tasks.user_id = ?
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] [cached since 0.01419s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:32] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:32] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:36] INFO     [backend.middleware] Request started
[2026-01-16 10:32:36] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:36] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:32:36] INFO     [sqlalchemy.engine.Engine] [cached since 4.24s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:36] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:36] INFO     [sqlalchemy.engine.Engine] [generated in 0.00066s] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:32:36] INFO     [sqlalchemy.engine.Engine] DELETE FROM tasks WHERE tasks.id = ?
[2026-01-16 10:32:36] INFO     [sqlalchemy.engine.Engine] [generated in 0.00156s] ('21dfc8d7-79a2-4a1e-836a-97be9e7be6f0',)
[2026-01-16 10:32:36] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:36] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:39] INFO     [backend.middleware] Request started
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [cached since 7.522s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] INSERT INTO tasks (id, user_id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, retry_count) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [generated in 0.00081s] ('990cfb0a-d09e-499a-b877-452bfb550bcb', 'd47c2def-ae38-4cbb-9756-da8b6df202df', 'weibo', 'pending', 0, None, None, None, None, None, None, 0)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [generated in 0.00066s] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:39] INFO     [backend.routers.crawlers] Created task 990cfb0a-d09e-499a-b877-452bfb550bcb for crawler weibo
[2026-01-16 10:32:39] INFO     [backend.routers.crawlers] Task 990cfb0a-d09e-499a-b877-452bfb550bcb submitted to BackgroundTasks
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:39] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:39] INFO     [backend.routers.crawlers] Executing task 990cfb0a-d09e-499a-b877-452bfb550bcb: weibo
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [cached since 3.302s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET status=?, started_at=? WHERE tasks.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [generated in 0.00057s] ('running', '2026-01-16 02:32:39.674975', '990cfb0a-d09e-499a-b877-452bfb550bcb')
[2026-01-16 10:32:39] INFO     [backend.middleware] Request started
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [cached since 7.552s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [cached since 3.314s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [cached since 0.02313s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:32:39] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:39] INFO     [root] User-Agent switched to: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap...
[2026-01-16 10:32:39] INFO     [backend.services.crawler_service] Starting crawler: weibo with params: {}
[2026-01-16 10:32:39] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  weibo ...
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [cached since 3.333s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [generated in 0.00078s] (5, '990cfb0a-d09e-499a-b877-452bfb550bcb')
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [cached since 0.0548s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:32:39] INFO     [backend.crawlers.weibo] Starting Weibo crawler...
[2026-01-16 10:32:39] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  ( 1/3)...
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [cached since 3.356s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] [cached since 0.06915s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:39] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:32:40] INFO     [backend.routers.websocket] WebSocket connected for task 990cfb0a-d09e-499a-b877-452bfb550bcb. Total: 1
[2026-01-16 10:32:40] INFO     [backend.middleware] Request started
[2026-01-16 10:32:40] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:40] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:32:40] INFO     [sqlalchemy.engine.Engine] [cached since 7.895s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:40] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:40] INFO     [sqlalchemy.engine.Engine] [cached since 3.656s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:40] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:40] INFO     [backend.middleware] Request completed
[2026-01-16 10:32:41] ERROR    [backend.crawlers.weibo] Attempt 1 failed: BrowserType.launch: Executable doesn't exist at C:\Users\Alex Zhai\AppData\Local\ms-playwright\chromium_headless_shell-1200\chrome-headless-shell-win64\chrome-headless-shell.exe

 Looks like Playwright was just installed or updated.       
 Please run the following command to download new browsers: 
                                                            
     playwright install                                     
                                                            
 <3 Playwright Team                                         

[2026-01-16 10:32:41] INFO     [backend.routers.crawlers] Progress callback triggered: 10% - 2...
[2026-01-16 10:32:41] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:41] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:41] INFO     [sqlalchemy.engine.Engine] [cached since 5.104s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:41] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:32:41] INFO     [sqlalchemy.engine.Engine] [cached since 1.771s ago] (10, '990cfb0a-d09e-499a-b877-452bfb550bcb')
[2026-01-16 10:32:41] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:41] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:41] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:41] INFO     [sqlalchemy.engine.Engine] [cached since 1.822s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:41] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:32:43] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  ( 2/3)...
[2026-01-16 10:32:43] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:43] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:43] INFO     [sqlalchemy.engine.Engine] [cached since 7.134s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:43] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:32:43] INFO     [sqlalchemy.engine.Engine] [cached since 3.801s ago] (5, '990cfb0a-d09e-499a-b877-452bfb550bcb')
[2026-01-16 10:32:43] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:43] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:43] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:43] INFO     [sqlalchemy.engine.Engine] [cached since 3.851s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:43] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:32:44] ERROR    [backend.crawlers.weibo] Attempt 2 failed: BrowserType.launch: Executable doesn't exist at C:\Users\Alex Zhai\AppData\Local\ms-playwright\chromium_headless_shell-1200\chrome-headless-shell-win64\chrome-headless-shell.exe

 Looks like Playwright was just installed or updated.       
 Please run the following command to download new browsers: 
                                                            
     playwright install                                     
                                                            
 <3 Playwright Team                                         

[2026-01-16 10:32:44] INFO     [backend.routers.crawlers] Progress callback triggered: 10% - 4...
[2026-01-16 10:32:44] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:44] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:44] INFO     [sqlalchemy.engine.Engine] [cached since 7.665s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:44] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:32:44] INFO     [sqlalchemy.engine.Engine] [cached since 4.332s ago] (10, '990cfb0a-d09e-499a-b877-452bfb550bcb')
[2026-01-16 10:32:44] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:44] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:44] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:44] INFO     [sqlalchemy.engine.Engine] [cached since 4.382s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:44] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:32:48] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  ( 3/3)...
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] [cached since 11.69s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] [cached since 8.354s ago] (5, '990cfb0a-d09e-499a-b877-452bfb550bcb')
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] [cached since 8.406s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:32:48] ERROR    [backend.crawlers.weibo] Attempt 3 failed: BrowserType.launch: Executable doesn't exist at C:\Users\Alex Zhai\AppData\Local\ms-playwright\chromium_headless_shell-1200\chrome-headless-shell-win64\chrome-headless-shell.exe

 Looks like Playwright was just installed or updated.       
 Please run the following command to download new browsers: 
                                                            
     playwright install                                     
                                                            
 <3 Playwright Team                                         

[2026-01-16 10:32:48] INFO     [backend.routers.crawlers] Progress callback triggered: 90% - : BrowserType.launch: Executable doesn't exist at C:\Users\Alex Zhai\AppData\Local\ms-playwright\chromium_headless_shell-1200\chrome-headless-shell-win64\chrome-headless-shell.exe

 Looks like Playwright was just installed or updated.       
 Please run the following command to download new browsers: 
                                                            
     playwright install                                     
                                                            
 <3 Playwright Team                                         

[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] [cached since 12.21s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] [cached since 8.873s ago] (90, '990cfb0a-d09e-499a-b877-452bfb550bcb')
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] [cached since 8.923s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:32:48] ERROR    [backend.services.crawler_service] Error running crawler weibo: No items found after retries
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\backend\services\crawler_service.py", line 271, in run_crawler
    result = await crawler.run(progress_callback=progress_callback)
  File "A:\workspace\To-do\Crawler_Practice\backend\crawlers\weibo.py", line 28, in run
    return await asyncio.to_thread(self._run_in_new_loop, progress_callback, running_loop)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "A:\workspace\To-do\Crawler_Practice\backend\crawlers\weibo.py", line 46, in _run_in_new_loop
    return loop.run_until_complete(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 649, in run_until_complete
    return future.result()
  File "A:\workspace\To-do\Crawler_Practice\backend\crawlers\weibo.py", line 182, in _run_internal
    raise Exception("No items found after retries")
Exception: No items found after retries
[2026-01-16 10:32:48] ERROR    [backend.routers.crawlers] Task 990cfb0a-d09e-499a-b877-452bfb550bcb failed: No items found after retries
Traceback (most recent call last):
  File "A:\workspace\To-do\Crawler_Practice\backend\routers\crawlers.py", line 195, in execute_crawler_task
    result = await crawler_service.run_crawler(
  File "A:\workspace\To-do\Crawler_Practice\backend\services\crawler_service.py", line 271, in run_crawler
    result = await crawler.run(progress_callback=progress_callback)
  File "A:\workspace\To-do\Crawler_Practice\backend\crawlers\weibo.py", line 28, in run
    return await asyncio.to_thread(self._run_in_new_loop, progress_callback, running_loop)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "A:\workspace\To-do\Crawler_Practice\backend\crawlers\weibo.py", line 46, in _run_in_new_loop
    return loop.run_until_complete(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\asyncio\base_events.py", line 649, in run_until_complete
    return future.result()
  File "A:\workspace\To-do\Crawler_Practice\backend\crawlers\weibo.py", line 182, in _run_internal
    raise Exception("No items found after retries")
Exception: No items found after retries
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] [cached since 12.23s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET status=?, error=?, completed_at=?, duration=? WHERE tasks.id = ?
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] [generated in 0.00062s] ('failed', 'No items found after retries', '2026-01-16 02:32:48.603913', 8.928938, '990cfb0a-d09e-499a-b877-452bfb550bcb')
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] [cached since 8.948s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:48] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:32:48] INFO     [backend.routers.websocket] WebSocket disconnected for task 990cfb0a-d09e-499a-b877-452bfb550bcb
[2026-01-16 10:32:48] INFO     [backend.routers.websocket] Client disconnected from task 990cfb0a-d09e-499a-b877-452bfb550bcb
[2026-01-16 10:32:52] INFO     [backend.routers.websocket] WebSocket connected for task 990cfb0a-d09e-499a-b877-452bfb550bcb. Total: 1
[2026-01-16 10:32:52] INFO     [backend.middleware] Request started
[2026-01-16 10:32:52] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:32:52] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:32:52] INFO     [sqlalchemy.engine.Engine] [cached since 20.53s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:32:52] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:32:52] INFO     [sqlalchemy.engine.Engine] [cached since 16.29s ago] ('990cfb0a-d09e-499a-b877-452bfb550bcb',)
[2026-01-16 10:32:52] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:32:52] INFO     [backend.middleware] Request completed
[2026-01-16 10:34:33] INFO     [backend.routers.websocket] WebSocket disconnected for task 990cfb0a-d09e-499a-b877-452bfb550bcb
[2026-01-16 10:34:33] INFO     [backend.routers.websocket] Client disconnected from task 990cfb0a-d09e-499a-b877-452bfb550bcb
[2026-01-16 10:34:34] INFO     [backend.main] Shutting down application...
[2026-01-16 10:34:34] INFO     [backend.database] Database connection closed
[2026-01-16 10:34:34] INFO     [backend.main] Application shutdown complete
[2026-01-16 10:35:46] INFO     [root] Logging configured: level=INFO, debug=True
[2026-01-16 10:35:46] INFO     [backend.main] Starting Crawler Management API v1.0.0
[2026-01-16 10:35:46] INFO     [backend.main] Initializing database...
[2026-01-16 10:35:46] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:35:46] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("users")
[2026-01-16 10:35:46] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:35:46] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("tasks")
[2026-01-16 10:35:46] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:35:46] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:35:46] INFO     [backend.database] Database initialized successfully
[2026-01-16 10:35:46] INFO     [backend.main] Database initialized successfully
[2026-01-16 10:35:56] INFO     [backend.middleware] Request started
[2026-01-16 10:35:56] INFO     [backend.middleware] Request started
[2026-01-16 10:35:56] INFO     [backend.middleware] Request started
[2026-01-16 10:35:56] INFO     [backend.middleware] Request completed
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [generated in 0.00093s] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [backend.middleware] Request started
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.004048s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [backend.middleware] Request completed
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.user_id = ? ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [generated in 0.00064s] ('d47c2def-ae38-4cbb-9756-da8b6df202df', 20, 0)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.01102s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM tasks 
WHERE tasks.user_id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [generated in 0.00055s] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:35:56] INFO     [backend.middleware] Request completed
[2026-01-16 10:35:56] INFO     [backend.middleware] Request completed
[2026-01-16 10:35:56] INFO     [backend.middleware] Request started
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.02633s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.02875s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:35:56] INFO     [backend.middleware] Request completed
[2026-01-16 10:35:56] INFO     [backend.middleware] Request started
[2026-01-16 10:35:56] INFO     [backend.middleware] Request started
[2026-01-16 10:35:56] INFO     [backend.middleware] Request completed
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.04489s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [backend.middleware] Request started
[2026-01-16 10:35:56] INFO     [backend.middleware] Request completed
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.user_id = ? ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.04113s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df', 20, 0)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM tasks 
WHERE tasks.user_id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.03721s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:35:56] INFO     [backend.middleware] Request completed
[2026-01-16 10:35:56] INFO     [backend.middleware] Request started
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.06033s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.user_id = ? ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.05446s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df', 20, 0)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM tasks 
WHERE tasks.user_id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.04942s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:35:56] INFO     [backend.middleware] Request completed
[2026-01-16 10:35:56] INFO     [backend.middleware] Request started
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.07319s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.user_id = ? ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.06747s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df', 20, 0)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM tasks 
WHERE tasks.user_id = ?
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] [cached since 0.06238s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:35:56] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:35:56] INFO     [backend.middleware] Request completed
[2026-01-16 10:36:03] INFO     [backend.middleware] Request started
[2026-01-16 10:36:03] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:03] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:36:03] INFO     [sqlalchemy.engine.Engine] [cached since 7.561s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:36:03] INFO     [sqlalchemy.engine.Engine] INSERT INTO tasks (id, user_id, crawler_type, status, progress, params, result, error, started_at, completed_at, duration, retry_count) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at
[2026-01-16 10:36:03] INFO     [sqlalchemy.engine.Engine] [generated in 0.00074s] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150', 'd47c2def-ae38-4cbb-9756-da8b6df202df', 'weibo', 'pending', 0, None, None, None, None, None, None, 0)
[2026-01-16 10:36:03] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [generated in 0.00068s] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:04] INFO     [backend.routers.crawlers] Created task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150 for crawler weibo
[2026-01-16 10:36:04] INFO     [backend.routers.crawlers] Task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150 submitted to BackgroundTasks
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:04] INFO     [backend.middleware] Request completed
[2026-01-16 10:36:04] INFO     [backend.routers.crawlers] Executing task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150: weibo
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [generated in 0.00060s] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET status=?, started_at=? WHERE tasks.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [generated in 0.00070s] ('running', '2026-01-16 02:36:04.016949', '2b9fc981-6d8c-4dba-9a1e-ff0e20d13150')
[2026-01-16 10:36:04] INFO     [backend.middleware] Request started
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [cached since 7.593s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [cached since 0.02174s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:36:04] INFO     [root] User-Agent switched to: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebK...
[2026-01-16 10:36:04] INFO     [backend.services.crawler_service] Starting crawler: weibo with params: {}
[2026-01-16 10:36:04] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  weibo ...
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [cached since 0.02707s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [cached since 0.02918s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [generated in 0.00055s] (5, '2b9fc981-6d8c-4dba-9a1e-ff0e20d13150')
[2026-01-16 10:36:04] INFO     [backend.middleware] Request completed
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [cached since 0.04942s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:36:04] INFO     [backend.crawlers.weibo] Starting Weibo crawler...
[2026-01-16 10:36:04] INFO     [backend.routers.crawlers] Progress callback triggered: 5% -  ( 1/3)...
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [cached since 0.04922s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [cached since 0.06648s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:36:04] INFO     [backend.routers.websocket] WebSocket connected for task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150. Total: 1
[2026-01-16 10:36:04] INFO     [backend.middleware] Request started
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [cached since 7.937s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] [cached since 0.3564s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:04] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:04] INFO     [backend.middleware] Request completed
[2026-01-16 10:36:05] INFO     [backend.routers.crawlers] Progress callback triggered: 10% - ...
[2026-01-16 10:36:05] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:05] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:05] INFO     [sqlalchemy.engine.Engine] [cached since 1.461s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:05] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:36:05] INFO     [sqlalchemy.engine.Engine] [cached since 1.431s ago] (10, '2b9fc981-6d8c-4dba-9a1e-ff0e20d13150')
[2026-01-16 10:36:05] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:05] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:05] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:05] INFO     [sqlalchemy.engine.Engine] [cached since 1.481s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:05] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:36:09] INFO     [backend.routers.crawlers] Progress callback triggered: 20% - ...
[2026-01-16 10:36:09] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:09] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:09] INFO     [sqlalchemy.engine.Engine] [cached since 5.201s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:09] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:36:09] INFO     [sqlalchemy.engine.Engine] [cached since 5.171s ago] (20, '2b9fc981-6d8c-4dba-9a1e-ff0e20d13150')
[2026-01-16 10:36:09] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:09] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:09] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:09] INFO     [sqlalchemy.engine.Engine] [cached since 5.227s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:09] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:36:13] INFO     [backend.routers.crawlers] Progress callback triggered: 100% - 
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] [cached since 9.627s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET progress=? WHERE tasks.id = ?
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] [cached since 9.597s ago] (100, '2b9fc981-6d8c-4dba-9a1e-ff0e20d13150')
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] [cached since 9.646s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] [cached since 9.643s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] UPDATE tasks SET status=?, result=?, completed_at=?, duration=? WHERE tasks.id = ?
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] [generated in 0.00072s] ('completed', '{"total": 50, "items": [{"rank": 1, "title": "\\u643a\\u7a0b", "hot": 0, "link": "https://s.weibo.com/weibo?q=%E6%90%BA%E7%A8%8B&t=31&band_rank=1&Ref ... (15768 characters truncated) ... \u4e92\\u5f00\\u54b8\\u7684\\u73a9\\u7b11", "hot": 0, "link": "https://s.weibo.comjavascript:void(0);", "crawl_time": "2026-01-16T10:36:10.963281"}]}', '2026-01-16 02:36:13.659199', 9.64225, '2b9fc981-6d8c-4dba-9a1e-ff0e20d13150')
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] [cached since 9.663s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:13] INFO     [sqlalchemy.engine.Engine] ROLLBACK
[2026-01-16 10:36:13] INFO     [backend.routers.crawlers] Task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150 completed successfully
[2026-01-16 10:36:13] INFO     [backend.routers.websocket] WebSocket disconnected for task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150
[2026-01-16 10:36:13] INFO     [backend.routers.websocket] Client disconnected from task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150
[2026-01-16 10:36:16] INFO     [backend.routers.websocket] WebSocket connected for task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150. Total: 1
[2026-01-16 10:36:17] INFO     [backend.middleware] Request started
[2026-01-16 10:36:17] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:36:17] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:36:17] INFO     [sqlalchemy.engine.Engine] [cached since 20.58s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:36:17] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:36:17] INFO     [sqlalchemy.engine.Engine] [cached since 12.99s ago] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:36:17] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:36:17] INFO     [backend.middleware] Request completed
[2026-01-16 10:38:34] INFO     [backend.middleware] Request started
[2026-01-16 10:38:34] INFO     [backend.routers.websocket] WebSocket disconnected for task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150
[2026-01-16 10:38:34] INFO     [backend.routers.websocket] Client disconnected from task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150
[2026-01-16 10:38:34] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:38:34] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:38:34] INFO     [sqlalchemy.engine.Engine] [cached since 158.2s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:38:34] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.user_id = ? ORDER BY tasks.created_at DESC
 LIMIT ? OFFSET ?
[2026-01-16 10:38:34] INFO     [sqlalchemy.engine.Engine] [cached since 158.2s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df', 20, 0)
[2026-01-16 10:38:34] INFO     [sqlalchemy.engine.Engine] SELECT count(*) AS count_1 
FROM tasks 
WHERE tasks.user_id = ?
[2026-01-16 10:38:34] INFO     [sqlalchemy.engine.Engine] [cached since 158.2s ago] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:38:34] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:38:34] INFO     [backend.middleware] Request completed
[2026-01-16 10:38:34] INFO     [backend.main] Shutting down application...
[2026-01-16 10:38:34] INFO     [backend.database] Database connection closed
[2026-01-16 10:38:34] INFO     [backend.main] Application shutdown complete
[2026-01-16 10:38:36] INFO     [root] Logging configured: level=INFO, debug=True
[2026-01-16 10:38:36] INFO     [backend.main] Starting Crawler Management API v1.0.0
[2026-01-16 10:38:36] INFO     [backend.main] Initializing database...
[2026-01-16 10:38:36] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:38:36] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("users")
[2026-01-16 10:38:36] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:38:36] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("tasks")
[2026-01-16 10:38:36] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:38:36] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:38:36] INFO     [backend.database] Database initialized successfully
[2026-01-16 10:38:36] INFO     [backend.main] Database initialized successfully
[2026-01-16 10:38:38] INFO     [backend.routers.websocket] WebSocket connected for task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150. Total: 1
[2026-01-16 10:38:38] INFO     [backend.middleware] Request started
[2026-01-16 10:38:38] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:38:38] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:38:38] INFO     [sqlalchemy.engine.Engine] [generated in 0.00087s] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:38:38] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:38:38] INFO     [sqlalchemy.engine.Engine] [generated in 0.00060s] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:38:38] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:38:38] INFO     [backend.middleware] Request completed
[2026-01-16 10:42:58] INFO     [backend.routers.websocket] WebSocket disconnected for task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150
[2026-01-16 10:42:58] INFO     [backend.routers.websocket] Client disconnected from task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150
[2026-01-16 10:42:58] INFO     [backend.main] Shutting down application...
[2026-01-16 10:42:58] INFO     [backend.database] Database connection closed
[2026-01-16 10:42:58] INFO     [backend.main] Application shutdown complete
[2026-01-16 10:43:00] INFO     [root] Logging configured: level=INFO, debug=True
[2026-01-16 10:43:00] INFO     [root] Log files: logs\app.log | logs\error.log
[2026-01-16 10:43:00] INFO     [backend.main] Starting Crawler Management API v1.0.0
[2026-01-16 10:43:00] INFO     [backend.main] Initializing database...
[2026-01-16 10:43:00] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:43:00] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("users")
[2026-01-16 10:43:00] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:43:00] INFO     [sqlalchemy.engine.Engine] PRAGMA main.table_info("tasks")
[2026-01-16 10:43:00] INFO     [sqlalchemy.engine.Engine] [raw sql] ()
[2026-01-16 10:43:00] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:43:00] INFO     [backend.database] Database initialized successfully
[2026-01-16 10:43:00] INFO     [backend.main] Database initialized successfully
[2026-01-16 10:43:01] INFO     [backend.routers.websocket] WebSocket connected for task 2b9fc981-6d8c-4dba-9a1e-ff0e20d13150. Total: 1
[2026-01-16 10:43:01] INFO     [backend.middleware] Request started
[2026-01-16 10:43:01] INFO     [sqlalchemy.engine.Engine] BEGIN (implicit)
[2026-01-16 10:43:01] INFO     [sqlalchemy.engine.Engine] SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.id = ?
[2026-01-16 10:43:01] INFO     [sqlalchemy.engine.Engine] [generated in 0.00037s] ('d47c2def-ae38-4cbb-9756-da8b6df202df',)
[2026-01-16 10:43:01] INFO     [sqlalchemy.engine.Engine] SELECT tasks.id, tasks.user_id, tasks.crawler_type, tasks.status, tasks.progress, tasks.params, tasks.result, tasks.error, tasks.created_at, tasks.started_at, tasks.completed_at, tasks.duration, tasks.retry_count 
FROM tasks 
WHERE tasks.id = ?
[2026-01-16 10:43:01] INFO     [sqlalchemy.engine.Engine] [generated in 0.00027s] ('2b9fc981-6d8c-4dba-9a1e-ff0e20d13150',)
[2026-01-16 10:43:01] INFO     [sqlalchemy.engine.Engine] COMMIT
[2026-01-16 10:43:01] INFO     [backend.middleware] Request completed
